{"version":3,"sources":["uni-app:///main.js","webpack:///E:/cl_vue/erp-app/pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue?2092","webpack:///E:/cl_vue/erp-app/pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue?2bf7","webpack:///E:/cl_vue/erp-app/pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue?3aa5","webpack:///E:/cl_vue/erp-app/pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue?b019","uni-app:///pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue","webpack:///E:/cl_vue/erp-app/pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue?bb3c","webpack:///E:/cl_vue/erp-app/pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue?f9c1"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oI;AACAA,UAAU,CAACC,2BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2I;AAC3I;AACsE;AACL;AACqC;;;AAGtG;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,yGAAM;AACR,EAAE,kHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,4NAEN;AACL,GAAG;AACH;AACA,WAAW,0PAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAuwB,CAAgB,4xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0L3xB;;;AAGA;;;AAGA,qE;AACA;AACA,UADA,EACA;AACA,YAFA,EAEA;AACA,SAHA,EAGA;AACA,WAJA,EAIA;AACA,aALA,EAKA;AACA,eANA,EAMA;AACA,UAPA,EAOA;AACA,YARA,EAQA;AACA,cATA,EASA;AACA,YAVA,CAUA;AAVA,E;AAYA;AACA,2BADA;AAEA,0MAFA;AAGA,MAHA,kBAGA;AACA;AACA,uBADA,EACA;AACA;AACA,iBADA;AAEA,oBAFA;AAGA,qCAHA,EAFA;AAMA;AACA,mBAPA;AAQA,oBARA,EAQA;AACA,gCATA,EASA;AACA;AACA;AACA,qBADA;AAEA,mBAFA;AAGA;AACA;AAJA,OADA;AAOA;AACA,mBADA;AAEA,mBAFA;AAGA,mBAHA,EAPA;;AAYA;AACA,qBADA;AAEA,mBAFA;AAGA,mBAHA,EAZA;;AAiBA;AACA,0BADA;AAEA,mBAFA;AAGA,mBAHA,EAjBA;;AAsBA;AACA,oBADA;AAEA,qBAFA;AAGA,mBAHA,EAtBA,CAVA;;;AAsCA,kDAtCA;AAuCA,kBAvCA,EAuCA;AACA;AACA;AACA,iCADA,EACA;AACA,oBAFA,EAEA;AACA,qBAHA,EAGA;AACA,iBAJA,EAIA;AACA,gBALA,EAKA;AACA,6BANA,EAMA;AACA,iBAPA,EAOA;AACA,yBARA,EAQA;AACA,wBATA,EASA;AACA,qBAVA,EAUA;AACA,oBAXA,EAWA;AACA,sBAZA,EAYA;AACA,eAbA,EAaA;AACA,kBAdA,CAcA;AAdA,OAzCA;AAyDA;AACA,mBADA,EACA;AACA,uBAFA,EAEA;AACA,oBAHA,CAGA;AAHA,OAzDA;;AA+DA,GAnEA;AAoEA;AACA,aADA,uBACA;AACA;AACA;AACA,KAJA,EApEA;;AA0EA;AACA;AACA,6BAFA,kCAEA,CAFA,EAEA,CAFA,EAEA;AACA;AACA,KAJA;AAKA;AACA,iCANA,sCAMA,CANA,EAMA,CANA,EAMA;AACA;AACA,KARA;AASA;AACA;AACA;AACA;AACA;AACA,yCAdA,8CAcA,CAdA,EAcA,CAdA,EAcA;AACA;AACA,KAhBA,EA1EA;;;AA6FA,SA7FA,qBA6FA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA,GAnGA;AAoGA,QApGA,oBAoGA;AACA;AACA;AACA;AACA,GAxGA;;AA0GA,SA1GA,qBA0GA;AACA;AACA,GA5GA;;AA8GA;AACA;AACA,mBAFA,6BAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7CA;AA8CA;AACA,kBA/CA,0BA+CA,GA/CA,EA+CA,KA/CA,EA+CA;AACA;AACA;AACA;AACA,gBAJA,CAIA;AACA,KApDA;AAqDA;AACA,aAtDA,qBAsDA,IAtDA,EAsDA;AACA,wFADA,CACA;AACA,wFAFA,CAEA;AACA,wGAHA,CAGA;AACA,KA1DA;AA2DA;AACA,mBA5DA,6BA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtFA;AAuFA;AACA,cAxFA,wBAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA,EACA;AACA,+CAFA;AAGA,qCAHA,EAGA;AACA,qCAJA,EAIA;AACA,uCALA,EAKA;AACA,kCANA,EAMA;AACA,yCAPA,EAOA;AACA,qDARA,EAQA;AACA,kBATA,EASA;AACA,+CAVA,CAUA;AACA;AACA;AAZA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAfA,EAeA,KAfA,CAeA;AACA;AACA;AACA;AACA;AACA;AACA,OArBA;AAsBA,KApIA;AAqIA;AACA,6BAtIA,uCAsIA;AACA;AACA;AACA;AACA,KA1IA;AA2IA;AACA,cA5IA,wBA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;;AAGA,KArJA;AAsJA;AACA,YAvJA,sBAuJA;AACA;AACA;AACA,oCAHA,CAGA;AACA,mCAJA,CAIA;AACA,oCALA,CAKA;AACA,wCANA,CAMA;AACA;AACA;AACA;AACA;AACA,KAlKA;AAmKA;AACA,eApKA,yBAoKA;AACA;AACA,wCADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAjLA;AAkLA;AACA,mBAnLA,6BAmLA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;;AAGA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,kCAFA;AAGA,6CAHA,EAGA;AACA,qDAJA,EAIA;AACA,6BALA,EAKA;AACA,qCANA,CAMA;AANA;AAQA;AACA,SAVA;AAWA;AACA;AACA,8CADA,CACA;AACA;AACA,SAJA,MAIA;AACA,4CADA,CACA;AACA;AACA,OArBA;AAsBA,KAjNA;AAkNA;AACA,kBAnNA,0BAmNA,IAnNA,EAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBANA;;AAQA,SAtBA;;AAwBA,KAlPA;AAmPA;AACA,aApPA,uBAoPA;AACA;AACA;AACA;AACA;AACA;AACA,kDADA,EACA;AACA,eAFA;AAGA,kBAHA,EAGA;AACA,iBAJA,EAIA;AACA,0CALA,CAKA;AALA;AAOA;AACA,KAjQA;AAkQA;AACA,oBAnQA,4BAmQA,IAnQA,EAmQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAbA,MAaA;AACA;AACA;AACA;AACA;AACA;AACA,SApBA,MAoBA;AACA;AACA;AACA;AACA;AACA;AACA,OA5BA,EA4BA,KA5BA,CA4BA;AACA;AACA;AACA;AACA,OAhCA;AAiCA,KAtSA;AAuSA;AACA,YAxSA,sBAwSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA,EACA;AACA,+CAFA,EAEA;AACA,yCAHA,EAGA;AACA,mDAJA,EAIA;AACA,wCALA,EAKA;AACA,4CANA,EAMA;AACA,qBAPA,CAOA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA,OAVA,EAUA,KAVA,CAUA;AACA;AACA;AACA;AACA,OAdA;AAeA,KA5UA;AA6UA;AACA,WA9UA,qBA8UA;AACA;AACA;AACA;AACA;AACA,uDALA,CAKA;AACA;AACA,KArVA;AAsVA;AACA,eAvVA,yBAuVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,IAHA;;AAKA,KA/WA;AAgXA;AACA,eAjXA,yBAiXA;AACA;AACA;AACA;AACA;AACA;AACA,4EADA,CACA;AACA;AACA;AACA;AACA,gCADA,EACA,OADA,CACA,CADA;AAEA;AACA,KA7XA,EA9GA,E;;;;;;;;;;;;;AC7MA;AAAA;AAAA;AAAA;AAA+mC,CAAgB,ymCAAG,EAAC,C;;;;;;;;;;;ACAnoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./boxHalfProdIn_xjxm.vue?vue&type=template&id=1da942c6&scoped=true&\"\nvar renderjs\nimport script from \"./boxHalfProdIn_xjxm.vue?vue&type=script&lang=js&\"\nexport * from \"./boxHalfProdIn_xjxm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./boxHalfProdIn_xjxm.vue?vue&type=style&index=0&id=1da942c6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1da942c6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/boxHalfProdIn_xjxm/boxHalfProdIn_xjxm.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boxHalfProdIn_xjxm.vue?vue&type=template&id=1da942c6&scoped=true&\"","var components = {\n  selectDropdown: function() {\n    return import(\n      /* webpackChunkName: \"components/selectDropdown/selectDropdown\" */ \"@/components/selectDropdown/selectDropdown.vue\"\n    )\n  },\n  searchForm: function() {\n    return import(\n      /* webpackChunkName: \"components/searchForm/searchForm\" */ \"@/components/searchForm/searchForm.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boxHalfProdIn_xjxm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boxHalfProdIn_xjxm.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<cu-custom class=\"titlefrom\" bgColor=\"bg-gradual-blue\" :isBack=\"true\"><block slot=\"content\">工序扫描入库</block></cu-custom>\n\n\t\t<view>\n\t\t\t<view>\n\t\t\t\t<view class=\"border-bottom\">\n\t\t\t\t\t<view class=\"grid-title\">工单详情</view>\n\t\t\t\t\t<view class=\"grid-body\">\r\n\t\t\t\t\t\t<selectDropdown\r\n\t\t\t\t\t\t\t@onChange=\"onChangeInToCache\"\r\n\t\t\t\t\t\t\t:otherHeight='CustomBarHeight' \r\n\t\t\t\t\t\t\t:componentConfig=\"{tokenKey:'wp.lineDrawer'}\"\r\n\t\t\t\t\t\t\t:defaultValue = 'formItem.line'\r\n\t\t\t\t\t\t\tref=\"lineDrawer\"\r\n\t\t\t\t\t\t\turl=\"appFindLineSeparation\"\r\n\t\t\t\t\t\t\ttitle=\"线ㅤ别\"\r\n\t\t\t\t\t\t\tplaceholdertext=\"请选择线别\"\r\n\t\t\t\t\t\t\tv-model='formItem.lineId'\r\n\t\t\t\t\t\t></selectDropdown>\r\n\t\t\t\t\t\t<selectDropdown\r\n\t\t\t\t\t\t\t@onChange=\"onChangeInToCache\"\r\n\t\t\t\t\t\t\t:otherHeight='CustomBarHeight' \r\n\t\t\t\t\t\t\t:componentConfig=\"{tokenKey:'wp.classDrawer'}\"\r\n\t\t\t\t\t\t\t:defaultValue = 'formItem.team'\r\n\t\t\t\t\t\t\tref=\"classDrawer\"\r\n\t\t\t\t\t\t\turl=\"appFindClassBan\"\r\n\t\t\t\t\t\t\ttitle=\"班ㅤ别\"\r\n\t\t\t\t\t\t\tplaceholdertext=\"请选择班别\"\r\n\t\t\t\t\t\t\tv-model='formItem.teamId'\r\n\t\t\t\t\t\t\t:params='params'\r\n\t\t\t\t\t\t\t@closeMain='getWorkList'\r\n\t\t\t\t\t\t></selectDropdown>\r\n\t\t\t\t\t\t<selectDropdown\r\n\t\t\t\t\t\t\t@onChange=\"onChangeInToCache\"\r\n\t\t\t\t\t\t\t:componentConfig=\"{tokenKey:'wp.ProdutDrawer'}\"\r\n\t\t\t\t\t\t\t:defaultValue = 'formItem.Produt'\r\n\t\t\t\t\t\t\t:otherHeight='CustomBarHeight' \r\n\t\t\t\t\t\t\tref=\"ProdutDrawer\"\r\n\t\t\t\t\t\t\turl=\"appFindWorkProcListXjxm\"\r\n\t\t\t\t\t\t\ttitle=\"生产工序\"\r\n\t\t\t\t\t\t\tplaceholdertext=\"请选择生产工序\"\r\n\t\t\t\t\t\t\tv-model='formItem.ProdutId'\r\n\t\t\t\t\t\t\t@closeMain='closeMain'\r\n\t\t\t\t\t\t></selectDropdown>\r\n\t\t\t\t\t\t<view class=\"flex border-top\">\r\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"title\">工ㅤ价:</view>\r\n\t\t\t\t\t\t\t\t\t<input :disabled=\"true\" v-model=\"boxHalfProdIn.wpl_WorkPrice\">{{boxHalfProdIn.wpl_WorkPriceUnitName}}</input>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"title\">计件系数:</view>\r\n\t\t\t\t\t\t\t\t\t<input @blur=\"YxStrChange\" v-model=\"boxHalfProdIn.wplAssNum\"/>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t\t<view class=\"title\">工单号:</view>\n\t\t\t\t\t\t\t\t\t<input v-model=\"boxHalfProdIn.hp_bi_WorkNo\" @blur=\"findGoods\" placeholder=\"请输入工单号\" />\n\t\t\t\t\t\t\t\t\t<button @click=\"turnOnScanCode('in')\" type=\"primary\" size=\"mini\">扫描</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t\t<view class=\"title\">入库数:</view>\n\t\t\t\t\t\t\t\t\t<input @blur=\"YxStrChange\" type=\"number\" v-model=\"boxHalfProdIn.YxStr\" placeholder=\"请输入入库数\"/>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t\t<view class=\"title\">面ㅤ积:</view>\n\t\t\t\t\t\t\t\t\t<input :disabled=\"true\" v-model=\"boxHalfProdIn.area\"/>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t\t<view class=\"title\">不良数:</view>\n\t\t\t\t\t\t\t\t\t<input type=\"number\" v-model=\"boxHalfProdIn.defectsNum\" placeholder=\"请输入不良数\"/>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t\t\t<view class=\"title\">工ㅤ资:</view>\n\t\t\t\t\t\t\t\t\t<input :disabled=\"true\" v-model=\"boxHalfProdIn.monny\"/>{{mainmonny}}\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<br />\n\t\t<!-- 扫描工单信息 -->\n\t\t<!-- <view class=\"grid-body\"> -->\n\t\t<!-- <view class=\"border-bottom\"> -->\n\t\t\t<view  class=\"grid-body\" v-for=\"(item,index) in fromdata\" :key='index'>\n\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t<view class=\"title\">客ㅤ户：{{item.ct_Desc}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t<view class=\"title\">产品编号：{{item.bi_ProdNo}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t<view class=\"title\">盒ㅤ式：{{item.bp_CBoxID}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t<text class=\"title\">名ㅤ称：{{item.bi_ProdName}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"flex border-top\">\n\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t<view class=\"cu-form-group\">\n\t\t\t\t\t\t\t<view class=\"title\">工单数：{{item.bp_ProQty}}</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-sub\">\r\n\t\t\t\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t\t\t\t<text class=\"title\">本工序已入数：{{item.bw_certifiedQty}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<br />\n\n\t\t\t<view class=\"border-bottom\">\n\t\t\t\t<view class=\"grid-title\">\n\t\t\t\t\t<view>人员列表</view>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<button @click=\"adjustment\" class=\"bank-rest\" type=\"primary\" size=\"mini\">调整</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view>\n\t\t\t\t\t<v-table\r\n\t\t\t\t\t\t:row-class-name=\"rowClassNameFn\"\n\t\t\t\t\t\t:columns=\"findGoodsColumns\" \n\t\t\t\t\t\t:list=\"paperOutTableDataItems\" \n\t\t\t\t\t\tselection=\"single\"\n\t\t\t\t\t\t:td-width=\"150\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<!--单选 :height=\"200\"\t@on-selection-change='onClick' -->\n\t\t\t\t\t</v-table>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view style=\"height: 50px;\"></view>\n\t\t<!-- <view class=\"margin-text-center\" style=\"padding: 40rpx;\"><button @tap=\"prodInProvider\" type=\"primary\" class=\"primary-btn\">入仓</button></view> -->\n\t\t<!-- 底部操作框 -->\n\t\t<view class=\"xunhoubtm elBtn\">\n\t\t\t<view style=\"margin-left: 10px;\">\n\t\t\t\t<button class=\"bank-rest\" @tap=\"restFrom\" type=\"primary\" size=\"mini\">清除</button>\n\t\t\t</view>\n\t\t\t<view style=\"margin-right: 10px;\">\n\t\t\t\t<button :disabled=\"disable\" @click=\"SubmitData\" class=\"bank-rest\" type=\"primary\" size=\"mini\">确认</button>\n\t\t\t</view>\n\t\t</view>\n\t\t<!--  侧边搜索列表 -->\n\t\t<searchForm @getSelectDataInfo=\"getSelectDataInfo\" :dataSource=\"dataSource\" ref='searchForm'></searchForm>\n\t</view>\n</template>\n\n<script>\r\nimport selectDropdown from '@/components/selectDropdown/selectDropdown.vue'\nimport searchForm from '@/components/searchForm/searchDataList.vue.vue'\nimport vTable from \"@/components/table.vue\"\nimport cuCustom from '@/ui/colorui/components/cu-custom.vue';\nimport request from '@/utils/request.js';\nimport uniDrawer from '@/components/uni-drawer/uni-drawer.vue';\nimport uniList from '@/components/uni-list/uni-list.vue';\r\nimport warehouse from '@/mixins';\nimport uniListItem from '@/components/uni-list-item/uni-list-item.vue';\nimport uniSearchBar from '@/components/uni-search-bar/uni-search-bar.vue';\nimport {emptyValidator} from '@/utils/validator.js'\nconst defaultformItem={\r\n\t\t\t\t\t\t\tline:'',//线别名称\r\n\t\t\t\t\t\t\tlineId:'',//线别\n\t\t\t\t\t\t\twpl:'',//工序\n\t\t\t\t\t\t\twplId:'',//工序id\n\t\t\t\t\t\t\tmachine:'',//机台\n\t\t\t\t\t\t\tmachineId:'',//机台id\n\t\t\t\t\t\t\tteam:'',//班别\n\t\t\t\t\t\t\tteamId:'',//班别id\r\n\t\t\t\t\t\t\tProdutId:'',//生产工序\r\n\t\t\t\t\t\t\tProdut:'',//生产工序名称\n\t\t\t\t\t\t}\nexport default {\r\n\tmixins: [warehouse],\n\tcomponents: { searchForm, cuCustom, uniDrawer, uniList, uniListItem, uniSearchBar,vTable,selectDropdown },\n\tdata() {\n\t\treturn {\r\n\t\t\tmachineparams:{},//机台过滤参数\r\n\t\t\tparams:{\r\n\t\t\t\ttype:\"1\",\r\n\t\t\t\tprocType:'',\r\n\t\t\t\tmodelCode:\"workProc_in_xjxm\"\r\n\t\t\t},//班别下拉接口参数\n\t\t\tdisable:true,\n\t\t\tdataSource:[],//数据源\n\t\t\tpaperOutTableDataItems:[],//人员数据列表\n\t\t\tfindGoodsColumns: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'Serial',\n\t\t\t\t\ttitle: '序号',\n\t\t\t\t\t$width: 80,\n\t\t\t\t\t// $fixed:'left'\t\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'w_ID',\n\t\t\t\t\ttitle: '编号',\n\t\t\t\t\t$width: 180,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'w_Name',\n\t\t\t\t\ttitle: '姓名',\n\t\t\t\t\t$width: 180,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'tt_quotient',\n\t\t\t\t\ttitle: '工分',\n\t\t\t\t\t$width: 150,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'money',\n\t\t\t\t\ttitle: '人员工资',\n\t\t\t\t\t$width: 150,\n\t\t\t\t},\n\t\t\t],\n\t\t\tformItem:Object.assign({},defaultformItem),\n\t\t\tfromdata:[],//工单扫描信息\n\t\t\t// monnyList:[],//存储 wpl_WorkPrice:\"工价\"和 wpl_WorkPriceUnit:\"工价单位\"\n\t\t\tboxHalfProdIn: {\r\n\t\t\t\twpl_WorkPriceUnitName:'',//工价单位\r\n\t\t\t\twplAssNum:1,//计件系数\n\t\t\t\tdefectsNum:0,//不良数\n\t\t\t\tmonny:'',//工资\n\t\t\t\tarea:'',//面积\n\t\t\t\twpl_WorkPriceUnit:'',//工价单位\n\t\t\t\tYxStr:'',//入库数\n\t\t\t\twpl_WorkPrice:'',//工价\n\t\t\t\thp_bi_WorkNo: '', //工单号\n\t\t\t\thp_wpl_Id: '', //工序编\n\t\t\t\thp_mo_ID: '', //机台编\n\t\t\t\thp_tt_Code: '', //班别编\n\t\t\t\tQty: '', //工单数\n\t\t\t\tRemark: '' //备注\n\t\t\t},\n\t\t\tbaseData: {\n\t\t\t\twplList: [], //工序列表\n\t\t\t\tmachineList: [], //机台列表\n\t\t\t\tteamList: [] //班别列表\n\t\t\t},\n\t\t};\n\t},\r\n\tcomputed: {\r\n\t\tmainmonny() {\r\n\t\t\tlet data = this.boxHalfProdIn.YxStr\r\n\t\t\treturn this.getmonny(data)\r\n\t\t}\r\n\t},\r\n\twatch:{\r\n\t\t// 计件系数 设置缓存\r\n\t\t'boxHalfProdIn.wplAssNum'(n,o){\r\n\t\t\tthis.cache.put('wp.wplAssNum',n)\r\n\t\t},\r\n\t\t// 工价 设置缓存\r\n\t\t'boxHalfProdIn.wpl_WorkPrice'(n,o){\r\n\t\t\tthis.cache.put('wp.wpl_WorkPrice',n)\r\n\t\t},\r\n\t\t// 工价单位\r\n\t\t// 'boxHalfProdIn.wpl_WorkPriceUnit'(n,o){\r\n\t\t// \tthis.cache.put('wp.wpl_WorkPriceUnit',n)\r\n\t\t// },\r\n\t\t// 工价单位显示 设置缓存\r\n\t\t'boxHalfProdIn.wpl_WorkPriceUnitName'(n,o){\r\n\t\t\tthis.cache.put('wp.wpl_WorkPriceUnitName',n)\r\n\t\t},\r\n\t\t\r\n\t},\n\tmounted() {\n\t\t// debugger\n\t\t// this.getTableHeight();\r\n\t\tthis.$nextTick(()=>{\r\n\t\t\tthis.setDefaultValue()\r\n\t\t})\n\t},\n\tonShow(){\n\t\t// debugger\n\t\tthis.getmonny();\r\n\t\t// this.getTableHeight();\n\t},\n\t\n\tonReady() {\n\t\t// debugger\n\t},\n\t\n\tmethods: {\r\n\t\t// 获取上传的值\r\n\t\tsetDefaultValue(){\r\n\t\t\t// 线别\r\n\t\t\tlet lineDrawerItem = this.cache.get('wp.lineDrawer')\r\n\t\t\tif(lineDrawerItem){\r\n\t\t\t   let itemKey = Object.keys(lineDrawerItem)\r\n\t\t\t   this.formItem.line = lineDrawerItem[itemKey[0]]\r\n\t\t\t   this.formItem.lineId = lineDrawerItem[itemKey[1]]\r\n\t\t\t}\r\n\t\t\t// 班别\r\n\t\t\tlet classDrawerItem = this.cache.get('wp.classDrawer')\r\n\t\t\tif(classDrawerItem){\r\n\t\t\t\t   let itemKey = Object.keys(classDrawerItem)\r\n\t\t\t\t   this.formItem.team = classDrawerItem[itemKey[0]]\r\n\t\t\t\t   this.formItem.teamId = classDrawerItem[itemKey[1]]\r\n\t\t\t\t   if(!!this.formItem.teamId){\r\n\t\t\t\t\t   this.getWorkList()\r\n\t\t\t\t   }\r\n\t\t\t}\r\n\t\t\t// 生产工序\r\n\t\t\tlet ProdutDrawerItem = this.cache.get('wp.ProdutDrawer')\r\n\t\t\tif(ProdutDrawerItem){\r\n\t\t\t\t   let itemKey = Object.keys(ProdutDrawerItem)\r\n\t\t\t\t   this.formItem.Produt = ProdutDrawerItem[itemKey[0]]\r\n\t\t\t\t   this.formItem.ProdutId =ProdutDrawerItem[itemKey[1]]\r\n\t\t\t\t   // if(!!this.formItem.ProdutId){\r\n\t\t\t\t\t  //  this.closeMain()\r\n\t\t\t\t   // }\r\n\t\t\t}\r\n\t\t\t// 计件系数\r\n\t\t\tlet wplAssNum = this.cache.get('wp.wplAssNum')\r\n\t\t\tif(!!wplAssNum){\r\n\t\t\t\t\tthis.boxHalfProdIn.wplAssNum = wplAssNum\r\n\t\t\t}\r\n\t\t\t//工价\r\n\t\t\tlet wpl_WorkPrice = this.cache.get('wp.wpl_WorkPrice')\r\n\t\t\tif(!!wpl_WorkPrice){\r\n\t\t\t\t\tthis.boxHalfProdIn.wpl_WorkPrice = wpl_WorkPrice\r\n\t\t\t}\r\n\t\t\t//工价单位显示\r\n\t\t\tlet wpl_WorkPriceUnitName = this.cache.get('wp.wpl_WorkPriceUnitName')\r\n\t\t\tif(!!wpl_WorkPriceUnitName){\r\n\t\t\t\t\tthis.boxHalfProdIn.wpl_WorkPriceUnitName = wpl_WorkPriceUnitName\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 自定义某行样式\r\n\t\trowClassNameFn(row, index) {\r\n\t\t\tif (Number(index) % 2 == 0) {\r\n\t\t\t\treturn 'table-single-row';\r\n\t\t\t} \r\n\t\t\treturn '';//'table-double-row';\r\n\t\t},\r\n\t\t// 生产工序回调事件\r\n\t\tcloseMain(data){\r\n\t\t\tthis.boxHalfProdIn.wpl_WorkPrice =JSON.parse(JSON.stringify(data.wpl_WorkPrice) ) //工价\r\n\t\t\tthis.boxHalfProdIn.wplAssNum =JSON.parse(JSON.stringify(data.wpl_WorkPriceUnit)) //计件系数\r\n\t\t\tthis.boxHalfProdIn.wpl_WorkPriceUnitName =JSON.parse(JSON.stringify(data.wpl_WorkPriceUnitName)) //计价单位显示\r\n\t\t},\r\n\t\t// 提交检验 \n\t\tcheckSubmitData(){\r\n\t\t\tif(this.formItem.lineId == ''){\r\n\t\t\t\tthis.toast.message('请选择线别')\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tif(this.formItem.teamId == ''){\n\t\t\t\tthis.toast.message('请选择班别')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif(this.formItem.ProdutId == ''){\r\n\t\t\t\tthis.toast.message('请选择生产工序')\r\n\t\t\t\treturn false\r\n\t\t\t}\n\t\t\tif(this.boxHalfProdIn.YxStr == ''){\n\t\t\t\tthis.toast.message('请输入库数')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif(this.boxHalfProdIn.defectsNum === ''){\n\t\t\t\tthis.toast.message('请输入不良数')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif(this.boxHalfProdIn.hp_bi_WorkNo == ''){\n\t\t\t\tthis.toast.message('请扫描工单号')\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t\t// 提交数据\n\t\tSubmitData(){\n\t\t\tlet check = this.checkSubmitData()\n\t\t\tif(!check){\n\t\t\t\treturn\n\t\t\t}\r\n\t\t\tthis.toast.loading();\n\t\t\tlet user = this.cache.get(this.appConst.CLIENT_USER_CACHE_NAME)\n\t\t\tlet data = {\r\n\t\t\t\tlineNo:this.formItem.lineId,//线别\n\t\t\t\tworkNo:this.boxHalfProdIn.hp_bi_WorkNo,\n\t\t\t\twplID:this.formItem.ProdutId,//生产工序编号\n\t\t\t\tclassNo:this.formItem.teamId,//班别编号\n\t\t\t\tinQty:this.boxHalfProdIn.YxStr,//入库数\n\t\t\t\tuserName:user.erpUserCode,//用户\r\n\t\t\t\tworkPay:this.boxHalfProdIn.monny,//工资\r\n\t\t\t\tuncertifiedQty:this.boxHalfProdIn.defectsNum,//不良数\r\n\t\t\t\tremark:'',//备注\r\n\t\t\t\twplAssNum:this.boxHalfProdIn.wplAssNum,//计件系数\r\n\t\t\t\t// prodQty:this.fromdata[0].workproc,//本工序数\r\n\t\t\t\t// priorcertifiedQty:this.fromdata[0].bp_ProQty //上工序数量\n\t\t\t}\n\t\t\tlet list = this.paperOutTableDataItems\n\t\t\trequest.post('/hpws/saveOtherBoxHalfProdInXjxm',{data,list}).then(res=>{\r\n\t\t\t\t// console.log(res)\n\t\t\t\tif(res.list[0].ErrorStr == \"1\"){\n\t\t\t\t\tthis.restFrom()\n\t\t\t\t\tthis.disable = true\n\t\t\t\t\tthis.toast.hide();\n\t\t\t\t\tthis.toast.message('入库成功')\n\t\t\t\t\t// console.log(111)\n\t\t\t\t}else{\n\t\t\t\t\tthis.restFrom()\n\t\t\t\t\tthis.disable = true\n\t\t\t\t\tthis.toast.hide();\n\t\t\t\t\tthis.toast.message('入库失败');\n\t\t\t\t\t// console.log(222)\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\t\tthis.restFrom()\n\t\t\t\t\tthis.disable = true\n\t\t\t\t\tthis.toast.hide();\n\t\t\t\t\tthis.toast.message('入库失败');\n\t\t\t\t\t// console.log(333)\n\t\t\t});\n\t\t},\n\t\t//保存人员数据\r\n\t\tgetpaperOutTableDataItems(){\n\t\t\tlet data = this.paperOutTableDataItems\n\t\t\t// 'updataItems',\n\t\t\tthis.$store.commit('updataItems', data)\n\t\t},\n\t\t// 调整\n\t\tadjustment(){\n\t\t\tif(this.formItem.teamId == ''){\n\t\t\t\tthis.toast.message('请选择班别');\t\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.getpaperOutTableDataItems()\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `adjustPersonnel_xjxm`\n\t\t\t})\n\t\t},\n\t\t//清除\n\t\trestFrom(){\r\n\t\t\tthis.fromdata = [];\n\t\t\tthis.boxHalfProdIn.hp_bi_WorkNo = '';\n\t\t\tthis.boxHalfProdIn.YxStr = '';//入库数\n\t\t\tthis.boxHalfProdIn.area = '';//面积\n\t\t\tthis.boxHalfProdIn.monny = '';//工资\n\t\t\tthis.boxHalfProdIn.defectsNum = 0;//不良数\r\n\t\t\t// this.boxHalfProdIn.wpl_WorkPriceUnitName = '';//计价工序显示单位\n\t\t\tfor(let i = 0 ; i < this.paperOutTableDataItems.length; i++){\n\t\t\t\tthis.paperOutTableDataItems[i].money = 0\n\t\t\t}\n\t\t},\n\t\t// 获取人员列表\n\t\tgetWorkList(){\r\n\t\t\tlet data = {\n\t\t\t\tworkProcId:this.formItem.teamId\n\t\t\t}\n\t\t\trequest.post(`/scan/getWorkList?workProcId=${this.formItem.teamId}`).then(res=>{\n\t\t\t\t// console.log(res)\n\t\t\t\tthis.paperOutTableDataItems = res\n\t\t\t\tfor(let i = 0; i<this.paperOutTableDataItems.length; i++){\n\t\t\t\t\tthis.paperOutTableDataItems[i].Serial = i+1\n\t\t\t\t\t// console.log(this.findGoodsColumns)\n\t\t\t\t}\n\t\t\t\tthis.getSubMonny();\n\t\t\t})\n\t\t},\n\t\t// 工序\n\t\tgetWorkProcList(){\n\t\t\tif(this.formItem.machineId == ''){\n\t\t\t\tthis.toast.message('请先选择机台')\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\twpId:this.formItem.machineId\n\t\t\t}\n\t\t\trequest.post(`/scan/getWorkProcList?wpId=${this.formItem.machineId}`).then(res=>{\n\t\t\t\t// console.log(res)\n\t\t\t\t// this.baseData.monnyList = res\n\t\t\t\tlet resData=res.map(item=>{\n\t\t\t\t\tlet formatData = {\n\t\t\t\t\t\ttype:item.wpl_Id,\n\t\t\t\t\t\tct_Desc:item.wpl_Name,\n\t\t\t\t\t\twpl_WorkPrice:item.wpl_WorkPrice,//工价\n\t\t\t\t\t\twpl_WorkPriceUnit:item.wpl_WorkPriceUnit,//工价单位\r\n\t\t\t\t\t\twplID:item.wplID,//生产工序标号\r\n\t\t\t\t\t\twplAssNum:item.wplAssNum,//计价系数\n\t\t\t\t\t}\n\t\t\t\t\treturn formatData\n\t\t\t\t})\n\t\t\t\tif(this.baseData.wplList.length != 0){\n\t\t\t\t\tif(this.baseData.wplList[0].type != resData[0].type){\n\t\t\t\t\t\tthis.baseData.wplList = resData // 客户 \n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.baseData.wplList = resData // 客户\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//打开扫描\n\t\tturnOnScanCode(type) {\r\n\t\t\tif(window !== undefined){\r\n\t\t\t\tthis.toast.message('请在\"e包装\"公众号中下载APP后扫码!')\r\n\t\t\t\treturn\r\n\t\t\t}\n\t\t\tlet _self = this;\n\t\t\t// 调起条码扫描\n\t\t\tuni.scanCode({\n\t\t\t\tscanType: 'barCode',\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tlet a = res.result.indexOf(',')\n\t\t\t\t\tlet b = 0\n\t\t\t\t\t// console.log(a)\n\t\t\t\t\tif(a<0){\n\t\t\t\t\t\tb = res.result\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb = res.result.substring(0,a)\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(b)\n\t\t\t\t\t// console.log('条码类型：' + res.scanType);\n\t\t\t\t\tconsole.log('条码内容：' + res.result);\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'in': //入库\n\t\t\t\t\t\t\t_self.boxHalfProdIn.hp_bi_WorkNo = b;\n\t\t\t\t\t\t\t_self.findGoods();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//工单号失去焦点\n\t\tfindGoods(){\r\n\t\t\tif(this.formItem.ProdutId == ''){\n\t\t\t\tthis.toast.message('请选择生产工序')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tbi_WorkNo:this.boxHalfProdIn.hp_bi_WorkNo,//工单号\n\t\t\t\tFlag:0,\r\n\t\t\t\tProcID:'',//计价工序\n\t\t\t\tbc_No:'',//订单号\r\n\t\t\t\tworkProcNo:this.formItem.ProdutId//生产工序\n\t\t\t}\n\t\t\tthis.getWorkorderdata(data)\n\t\t},\r\n\t\t//工单号查询\r\n\t\tgetWorkorderdata(data){\r\n\t\t\tthis.toast.loading();\r\n\t\t\trequest.post('/warehouse/warehouse/execute/appBoxScanOrderWorkProc',data).then(res=>{\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\tif(res.list[0]){\r\n\t\t\t\t\tif(res.list[0].res === 1 ){\r\n\t\t\t\t\t\tthis.fromdata = res.list\r\n\t\t\t\t\t\tlet bp_ProQty = Number(res.list[0].bp_ProQty)\r\n\t\t\t\t\t\tlet bw_certifiedQty = Number(res.list[0].bw_certifiedQty)\r\n\t\t\t\t\t\tif(bp_ProQty-bw_certifiedQty > 0){\r\n\t\t\t\t\t\t\tthis.boxHalfProdIn.YxStr = bp_ProQty-bw_certifiedQty\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.boxHalfProdIn.YxStr = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.getarea()\r\n\t\t\t\t\t\tthis.getmonny()\r\n\t\t\t\t\t\tthis.toast.hide();\r\n\t\t\t\t\t\tthis.disable  = false\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.restFrom()\r\n\t\t\t\t\t\tthis.toast.hide();\r\n\t\t\t\t\t\tthis.boxHalfProdIn.hp_bi_WorkNo = '';\r\n\t\t\t\t\t\tthis.toast.message('此工序无此工单')\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.boxHalfProdIn.hp_bi_WorkNo = '';\r\n\t\t\t\t\tthis.restFrom()\r\n\t\t\t\t\tthis.toast.hide();\r\n\t\t\t\t\tthis.toast.message('该工单号无数据')\r\n\t\t\t\t}\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tthis.restFrom()\r\n\t\t\t\tthis.toast.hide();\r\n\t\t\t\tthis.toast.message('数据加载失败')\r\n\t\t\t})\r\n\t\t},\n\t\t// 获取工资 工价*数量\n\t\tgetmonny(){\r\n\t\t\tif(this.boxHalfProdIn.wpl_WorkPrice==''){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif(this.fromdata.length==0){\n\t\t\t\treturn\n\t\t\t}\r\n\t\t\tif(this.boxHalfProdIn.YxStr==''){\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet data = {\r\n\t\t\t\twpl_Id:this.formItem.ProdutId, //--工序编号 \r\n\t\t\t\tWorkNo:this.boxHalfProdIn.hp_bi_WorkNo, //--工单号 \r\n\t\t\t\tWorkQty:this.boxHalfProdIn.YxStr, //--生产数量 \r\n\t\t\t\tWorkPrice:this.boxHalfProdIn.wpl_WorkPrice,// --工价 \r\n\t\t\t\tSArea:this.fromdata[0].bp_SArea, //--单面积 \r\n\t\t\t\tAssNum:this.boxHalfProdIn.wplAssNum,//--计价系数 \r\n\t\t\t\tParamNum:\"0\", //--工序参量（没有的话，默认0） \r\n\t\t\t\t// AProID:this.formItem.wplId, //--计价工序 \r\n\t\t\t}\r\n\t\t\tthis.toast.loading();\r\n\t\t\trequest.post('/warehouse/warehouse/execute/appSfGetWorkPayXjxm',data).then(res=>{\r\n\t\t\t\tif(res.list.length != 0){\r\n\t\t\t\t\tthis.boxHalfProdIn.monny = res.list[0].WorkPay\r\n\t\t\t\t\tthis.toast.hide();\r\n\t\t\t\t\tthis.getSubMonny()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.boxHalfProdIn.monny = 0\r\n\t\t\t\t\tthis.toast.hide();\r\n\t\t\t\t\tthis.toast.message('工资计算失败')\r\n\t\t\t\t}\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tthis.boxHalfProdIn.monny = 0\r\n\t\t\t\tthis.toast.hide();\r\n\t\t\t\tthis.toast.message('工资计算失败')\r\n\t\t\t})\r\n\t\t},\n\t\t//计算面积 单面积*数量\n\t\tgetarea(){\n\t\t\tif(this.fromdata[0].bp_SArea==''){\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet YxStr =Number(this.boxHalfProdIn.YxStr)\n\t\t\tlet bp_SArea =Number(this.fromdata[0].bp_SArea) //\n\t\t\tthis.boxHalfProdIn.area =JSON.parse((YxStr*bp_SArea).toFixed(2)) \n\t\t},\n\t\t// 入库数变化\n\t\tYxStrChange(){\r\n\t\t\tif(this.fromdata.length == 0){\n\t\t\t\tthis.toast.message('请先扫描工单')\n\t\t\t\tthis.boxHalfProdIn.YxStr = ''\n\t\t\t\treturn\n\t\t\t}\r\n\t\t\tlet bp_ProQty = Number(this.fromdata[0].bp_ProQty)\r\n\t\t\tlet bw_certifiedQty = this.fromdata[0].bw_certifiedQty\r\n\t\t\tif(this.boxHalfProdIn.YxStr > (bp_ProQty-bw_certifiedQty)){\r\n\t\t\t\tif(this.boxHalfProdIn.YxStr == 0){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.toast.message('入库数不能大于未入库数')\r\n\t\t\t\t// this.boxHalfProdIn.YxStr = 0\r\n\t\t\t\t// return;\r\n\t\t\t}\r\n\t\t\tif(this.boxHalfProdIn.YxStr == ''){\r\n\t\t\t\tthis.boxHalfProdIn.YxStr = 0\r\n\t\t\t}\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.getarea();\r\n\t\t\t\tthis.getmonny();\r\n\t\t\t},1000)\n\t\t\t\n\t\t},\n\t\t// 人员列表工资\n\t\tgetSubMonny(){\n\t\t\tif(this.boxHalfProdIn.monny===''){\r\n\t\t\t\treturn;\r\n\t\t\t}\n\t\t\tlet totalquotient = 0\n\t\t\tfor(let i = 0; i<this.paperOutTableDataItems.length; i++){\n\t\t\t\t totalquotient +=Number(this.paperOutTableDataItems[i].tt_quotient) //总工分\n\t\t\t}\n\t\t\tfor(let q = 0; q<this.paperOutTableDataItems.length; q++){\n\t\t\t\tthis.paperOutTableDataItems[q].money = ((this.paperOutTableDataItems[q].tt_quotient/totalquotient)*\n\t\t\t\tthis.boxHalfProdIn.monny).toFixed(2)\n\t\t\t}\n\t\t},\n\t}\n};\n</script>\n\n<style scoped>\n.grid-title {\n\tmargin-top: 0px !important;\n}\n.xunhoubtm {\n\tdisplay: flex;\n\tjustify-content:space-around;\n\tposition: fixed;\n\tbackground-color: #FFFFFF;\n\tbottom: 0px;\n\twidth: 100%;\n\tz-index: 2;\n\t\n}\n</style>\n","import mod from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boxHalfProdIn_xjxm.vue?vue&type=style&index=0&id=1da942c6&scoped=true&lang=css&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./boxHalfProdIn_xjxm.vue?vue&type=style&index=0&id=1da942c6&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599187779011\n      var cssReload = require(\"F:/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}