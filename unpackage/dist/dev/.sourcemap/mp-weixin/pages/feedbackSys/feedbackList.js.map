{"version":3,"sources":["uni-app:///main.js","webpack:///E:/cl_vue/erp-app/pages/feedbackSys/feedbackList.vue?f965","webpack:///E:/cl_vue/erp-app/pages/feedbackSys/feedbackList.vue?235a","webpack:///E:/cl_vue/erp-app/pages/feedbackSys/feedbackList.vue?0406","webpack:///E:/cl_vue/erp-app/pages/feedbackSys/feedbackList.vue?aa68","uni-app:///pages/feedbackSys/feedbackList.vue","webpack:///E:/cl_vue/erp-app/pages/feedbackSys/feedbackList.vue?bcbf","webpack:///E:/cl_vue/erp-app/pages/feedbackSys/feedbackList.vue?41b6"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,oPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAiwB,CAAgB,sxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqHrxB;;;AAGA;;AAEA;;AAEA,2E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;43CACA,yB,eACA,EACA,oBADA,EAEA,8GAFA,EAGA,kDAHA,EAIA,IAJA,kBAIA,CACA,SACA,qBADA,EACA;AACA,0BAFA,EAGA;AACA,oBACA,WADA,CAEA;AAFA,OAJA,EAQA;AACA,kBACA,WADA,CAEA;AAFA,OATA,EAaA,cAbA,EAaA;AACA,yBAdA,EAcA;AACA,8BAfA,EAeA;AACA,qBACA,EACA,KADA,EAEA,WAFA,EAGA,eAHA,EAIA,WAJA,EADA,EAOA,EACA,KADA,EAEA,WAFA,EAGA,cAHA,EAIA,WAJA,EAPA,EAaA,EACA,KADA,EAEA,WAFA,EAGA,iBAHA,EAIA,WAJA,EAbA,EAmBA,EACA,KADA,EAEA,WAFA,EAGA,cAHA,EAIA,WAJA,EAnBA,EAyBA,EACA,KADA,EAEA,WAFA,EAGA,cAHA,EAIA,WAJA,EAzBA,CAhBA,EA+CA;AACA,sBAhDA,CAgDA;AAhDA,MAkDA,CAvDA,EAwDA,SAxDA,EAiEA,OAjEA,qBAiEA,CACA;AACA,wBACA,CApEA,EAuEA,WACA,WACA,YAFA,0BAEA,kBACA,kCADA,CACA;AACA,mCACA,wBACA,4BACA,4BACA,CAHA,EAGA,GAHA,EAIA,CATA,EAUA;AACA,cAXA,wBAWA,mBACA,uBACA,2BACA,wBACA,6BACA,yBACA,CAHA,EAGA,GAHA,EAIA,CANA,MAMA,CACA,iCADA,CACA;AACA,gCACA,wCACA,yBACA,CAHA,EAGA,GAHA,EAIA,CACA,CAzBA,EA0BA;AACA,qBA3BA,+BA2BA,CACA;AACA,yBACA,iBACA,yBACA,cACA,0BACA,CACA,uBACA,cACA,wBACA,CACA,8BACA,cACA,mBACA,CACA,aACA,oCACA,OACA,CACA,sEACA,eACA,2BADA,EAEA,qBAFA,EAGA,aAHA,EAGA;AACA,oCAJA,GAMA,iBACA,mCACA,IADA,CACA,gBACA,uCACA,wBACA,2BACA;AACA,sCAHA,CAGA;AACA,SAJA,EAIA,GAJA;AAKA,OARA;AASA,WATA,CASA;AACA;AACA,OAXA;AAYA,KAnEA;AAoEA,wBApEA,kCAoEA;AACA;AACA;AACA,KAvEA;AAwEA,uBAxEA,iCAwEA;AACA;AACA,KA1EA;AA2EA,gBA3EA,0BA2EA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA,OAFA;AAGA,KAtFA;;AAwFA;AACA;AACA,sBA1FA,gCA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KApGA;AAqGA,gBArGA,wBAqGA,MArGA,EAqGA,QArGA,EAqGA,KArGA,EAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAFA,CAEA;AACA;AACA;AACA;AACA,oEAFA,CAEA;AACA;AACA;AACA;AACA,iEAFA,CAEA;AACA;AACA;AACA;AACA,sEAFA,CAEA;AACA;AACA;AACA;AACA;AACA,wEAHA,CAGA;AACA;AACA;AACA,wBAvBA;;AAyBA,aA3BA;;AA6BA;AACA,SAjCA;AAkCA,OAnCA,EAmCA,IAnCA;AAoCA,KApJA;AAqJA;;AAEA;AACA,yBAxJA,mCAwJA;AACA;AACA;AACA,KA3JA;AA4JA;AACA,uBA7JA,iCA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA;AAEA,2CAFA;AAGA,6BAHA;AAIA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAFA,CAEA;AACA,mCAHA,CAGA;AACA,kCAJA,CAIA;AACA,iCALA,CAKA;AACA,8BANA,CAMA;AACA,mCAPA,CAOA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAdA;AAeA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OA1BA,EA0BA,KA1BA,CA0BA;AACA;AACA,OA5BA;AA6BA,KAxMA;AAyMA;AACA,mBA1MA,2BA0MA,QA1MA,EA0MA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OATA,MASA;AACA;AACA;AACA,KAvNA;AAwNA;AACA,eAzNA,uBAyNA,UAzNA,EAyNA,UAzNA,EAyNA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAlOA;AAmOA;AACA,iBApOA,2BAoOA;AACA;AACA;AACA,sDADA;;AAGA,OAJA,MAIA;AACA;AACA;;AAEA,KA7OA,EAvEA,E;;;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAA+3C,CAAgB,g2CAAG,EAAC,C;;;;;;;;;;;ACAn5C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/feedbackSys/feedbackList.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/feedbackSys/feedbackList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./feedbackList.vue?vue&type=template&id=2756b9e3&\"\nvar renderjs\nimport script from \"./feedbackList.vue?vue&type=script&lang=js&\"\nexport * from \"./feedbackList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./feedbackList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/feedbackSys/feedbackList.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./feedbackList.vue?vue&type=template&id=2756b9e3&\"","var components = {\n  uniIcons: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./feedbackList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./feedbackList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-gradual-blue\" class=\"titlefrom\"><block slot=\"content\">反馈列表</block></cu-custom>\r\n\t\t<mescroll-body  ref=\"mescrollRef\" @init=\"mescrollInit\" :down=\"downOption\" @down=\"downCallback\" :up=\"upOption\" @up=\"upCallback\"  >\r\n\t\t<form class=\"xunhoutop\">\r\n\t\t\t<view class=\"bodyContentHeight\">\r\n\t\t\t\t<view class=\"cu-form-group border-top\">\r\n\t\t\t\t\t <view style=\"font-size: 28rpx;color: red;\">您的反馈是晨龙前行最大的动力:</view>\r\n\t\t\t\t\t<!-- <button @click=\"tofeedbackSys\" type=\"primary\" size=\"mini\"><text style=\"font-size: 25rpx;\">我要反馈</text></button> -->\r\n\t\t\t\t\t<view @click=\"tofeedbackSys\" class=\"feedbackBtn\">\r\n\t\t\t\t\t\t<text>我要反馈</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</form>\r\n\t\t<view style=\"height: 80rpx;\"></view>\r\n\t\t<view class=\"grid-warp\" v-for=\"(item, index) in FeedbackList\" :key=\"index\">\r\n\t\t\t<view class=\"grid-title\">\r\n\t\t\t\t时间:{{ item.createtime }}\r\n\t\t\t\t<!-- item.isExpand = !item.isExpand -->\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<uni-icons\r\n\t\t\t\t\t\t@click=\"expandDetail(item.isExpand, item.id, index)\"\r\n\t\t\t\t\t\tcolor=\"#999999\"\r\n\t\t\t\t\t\tstyle=\"cursor: pointer;\"\r\n\t\t\t\t\t\tsize=\"24\"\r\n\t\t\t\t\t\t:type=\"!item.isExpand ? 'arrowup' : 'arrowdown'\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"grid-body\">\r\n\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text>类别：{{ item.typecodeName }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text :class=\"[item.statusfeed > 0 ? (item.statusfeed == 1 ? 'statusfeedCurrent' : 'statusfeedDone') : 'statusfeedPending']\" class=\"maringR\">提出</text>\r\n\t\t\t\t\t\t<text :class=\"[item.statusfeed > 1 ? (item.statusfeed == 2 ? 'statusfeedCurrent' : 'statusfeedDone') : 'statusfeedPending']\" class=\"maringR\">接收</text>\r\n\t\t\t\t\t\t<text :class=\"[item.statusfeed > 2 ? (item.statusfeed == 3 ? 'statusfeedCurrent' : 'statusfeedDone') : 'statusfeedPending']\" class=\"maringR\">分配</text>\r\n\t\t\t\t\t\t<text :class=\"[item.statusfeed > 3 ? (item.statusfeed == 4 ? 'statusfeedCurrent' : 'statusfeedDone') : 'statusfeedPending']\" class=\"maringR\">完工</text>\r\n\t\t\t\t\t\t<text :class=\"[item.statusfeed > 4 ? (item.statusfeed == 5 ? 'statusfeedCurrent' : 'statusfeedDone') : 'statusfeedPending']\" class=\"maringR\">回访</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t:class=\"[item.statusfeed > 4 ? (item.statusfeed == 5 ? 'statusfeedCurrent' : 'statusfeedDone') : 'statusfeedPending']\"\r\n\t\t\t\t\t\t\t@click=\"evaluatetap(item.statusfeed, item.id)\"\r\n\t\t\t\t\t\t\tclass=\"maringR\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t评价\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t<view class=\"evaluateInfoBox\">\r\n\t\t\t\t\t\t<view class=\"evaluateInfoItem leftItem\">\r\n\t\t\t\t\t\t\t内容：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"evaluateInfoItem lastItem\">\r\n\t\t\t\t\t\t\t{{ item.content }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- {{ item.content }} -->\r\n\t\t\t\t<!-- \t<view style=\"width: 650rpx; word-wrap:break-word;word-break:normal;\">内容：</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-show=\"item.isExpand\">\r\n\t\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t接收：<text>{{ item.receiveInfo }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t分配：<text>{{ item.handleInfo }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t完工：<text>{{ item.endInfo }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t回访：<text>{{ item.approvalInfo }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"grid-flex padding-10\">\r\n\t\t\t\t\t<!-- \t<view style=\"width: 650rpx; word-wrap:break-word;word-break:normal;\">评价：{{ item.evaluateInfo }}</view> -->\r\n\t\t\t\t\t<view class=\"evaluateInfoBox\">\r\n\t\t\t\t\t\t<view class=\"evaluateInfoItem leftItem\">\r\n\t\t\t\t\t\t\t评价：\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"evaluateInfoItem lastItem\">\r\n\t\t\t\t\t\t\t{{ item.evaluateInfo }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"FeedbackList.length==0\" class=\"noDataListShow\">{{loadDataText}}</view>\r\n\t\t<colorUiDialog :isloading=\"isLoaddingData\" title=\"评价\" @comfirmModal=\"comfirmColorUiDialog\" @cancelModal=\"cancelColorUiDialog\" :toShowModal=\"showColorUiDialog\">\r\n\t\t\t<view class=\"modalFormBox\">\r\n\t\t\t\t<view class=\"modalFormItem\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tv-model=\"FeedbackContent\"\r\n\t\t\t\t\t\tmaxlength=\"300\"\r\n\t\t\t\t\t\tplaceholder=\"请输入评价\"\r\n\t\t\t\t\t\tstyle=\"text-align: left; width: auto; height: 300rpx;border: 1px solid #ccc;\"\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</colorUiDialog>\r\n\r\n\t\t<boboMessage ref=\"Message\"></boboMessage>\r\n\t\t</mescroll-body>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport MescrollMixin from \"@/components/mescroll-uni/mescroll-mixins.js\";\r\nimport boboMessage from '@/components/bobo-message/bobo-message.vue';\r\nimport colorUiDialog from '@/components/color-ui-dialog/color-ui-dialog.vue';\r\n import { timeToDate,isWeiXinBrowser } from '@/utils/common.js'; //时间戳转时间格式\r\nimport uniIcons from '@/components/uni-icons/uni-icons.vue';\r\n import wxBase from '@/mixins/wxBase';\r\nimport cuCustom from '@/ui/colorui/components/cu-custom.vue';\r\nimport dayjs from 'dayjs';\r\nconst defaultformItem = {};\r\nexport default {\r\n\tname: 'feedbackList',\r\n\tcomponents: { cuCustom, uniIcons, colorUiDialog, boboMessage },\r\n\tmixins: [wxBase,MescrollMixin],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thasGetWxOpenId:false,// 是否获取微信OPENID \r\n\t\t\tloadDataText:'暂无数据',\r\n\t\t\t// 下拉配置\r\n\t\t\t downOption:{\r\n\t\t\t\t auto:false,\r\n\t\t\t\t// textLoading:\"11\"\r\n\t\t\t},\r\n\t\t\t// 上拉配置\r\n\t\t\tupOption:{\r\n\t\t\t\tauto:false,\r\n\t\t\t\t//use:false, // 关闭上拉刷新\r\n\t\t\t},\r\n\t\t\tfeedbackId: '', // 当前评价ID\r\n\t\t\tFeedbackContent: '', //评价内容\r\n\t\t\tshowColorUiDialog: false, // 是否显示弹框\r\n\t\t\tFeedbackType: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\ttypecode: 1,\r\n\t\t\t\t\ttypename: 'ERP',\r\n\t\t\t\t\tusercode: 0\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\ttypecode: 2,\r\n\t\t\t\t\ttypename: '生管',\r\n\t\t\t\t\tusercode: 0\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\ttypecode: 3,\r\n\t\t\t\t\ttypename: '设备/其它',\r\n\t\t\t\t\tusercode: 0\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\ttypecode: 4,\r\n\t\t\t\t\ttypename: '业务',\r\n\t\t\t\t\tusercode: 0\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\ttypecode: 5,\r\n\t\t\t\t\ttypename: '投诉',\r\n\t\t\t\t\tusercode: 0\r\n\t\t\t\t}\r\n\t\t\t], // 问题大类 列表\r\n\t\t\tFeedbackList: [], // 用户反馈列表\r\n\t\t};\r\n\t},\r\n\twatch: {},\r\n\t// #ifdef H5\r\n\tmounted() {\r\n\t\t//console.log('======mounted=H5===')\r\n\t\t//this.getFeedbackByOpenId();\r\n\t\tthis.initFunction();\r\n\t},\r\n\t// #endif\r\n\t// #ifndef H5\r\n\tonReady() {\r\n\t\t//console.log('======mounted=other===')\r\n\t\tthis.initFunction();\r\n\t},\r\n\r\n\t// #endif\r\n\tmethods: {\r\n\t\t/*下拉刷新的回调*/\r\n\t\tdownCallback(){\r\n\t\t\tthis.mescroll.lockUpScroll(false) // 放开上拉\r\n\t\t\tthis.pageSetting.current =1\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.getFeedbackByOpenId();\r\n\t\t\t\tthis.mescroll.endSuccess()\t\r\n\t\t\t}, 500)\r\n\t\t},\r\n\t\t// 上拉加载的回调\r\n\t\tupCallback() {\r\n\t\t\tif(this.hasNextPage){\r\n\t\t\t\tthis.pageSetting.current++\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.getFeedbackByOpenId();\r\n\t\t\t\t\tthis.mescroll.endErr();\r\n\t\t\t\t}, 500)\r\n\t\t\t}else{\r\n\t\t\t\tthis.mescroll.lockUpScroll(true) // 禁用上拉\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.$refs['Message'].info('暂无更多数据!');\r\n\t\t\t\t\tthis.mescroll.endErr();\r\n\t\t\t\t}, 500)\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 用户提交对评价\r\n\t\tsubmitFeedbackOpt() {\r\n\t\t\t//debugger\r\n\t\t\tlet hasErr = false;\r\n\t\t\tlet message = '';\r\n\t\t\tif (!!!this.feedbackId) {\r\n\t\t\t\thasErr = true;\r\n\t\t\t\tmessage = 'feedbackId 为空';\r\n\t\t\t}\r\n\t\t\tif (!!!this.wxOpenId) {\r\n\t\t\t\thasErr = true;\r\n\t\t\t\tmessage = 'wxOpenId 为空';\r\n\t\t\t}\r\n\t\t\tif (!!!this.FeedbackContent) {\r\n\t\t\t\thasErr = true;\r\n\t\t\t\tmessage = '评价内容为空';\r\n\t\t\t}\r\n\t\t\tif (hasErr) {\r\n\t\t\t\tthis.$refs['Message'].warn(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet _url = `${this.$config.wxBaseUrl}/wx/submitFeedbackOpt`;\r\n\t\t\tlet params = {\r\n\t\t\t\tfeedbackId: this.feedbackId,\r\n\t\t\t\topenId: this.wxOpenId,\r\n\t\t\t\tstatusFeed: 6, //参数statusFeed： 状态（1已提出，2已接收，3已分配，4已完工，5已回访,6已评价）\r\n\t\t\t\tremark: this.FeedbackContent\r\n\t\t\t};\r\n\t\t\tlet _self = this;\r\n\t\t\tthis.getOrPostDataBy(_url, params)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\t_self.$refs['Message'].success('评价成功');\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t_self.FeedbackContent = '';\r\n\t\t\t\t\t\t_self.showColorUiDialog = false;\r\n\t\t\t\t\t\t_self.getFeedbackByOpenId(); // 刷新列表\r\n\t\t\t\t\t}, 500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\t_self.$refs['Message'].error('评价失败,请稍后再试');\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tcomfirmColorUiDialog() {\r\n\t\t\tthis.submitFeedbackOpt();\r\n\t\t\t//this.showColorUiDialog =false\r\n\t\t},\r\n\t\tcancelColorUiDialog() {\r\n\t\t\tthis.showColorUiDialog = false;\r\n\t\t},\r\n\t\tinitFunction() {\r\n\t\t    let wxOpenId = uni.getStorageSync('wxOpenId')\r\n\t\t\tif(!!wxOpenId){\r\n\t\t\t\tthis.wxOpenId = wxOpenId\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getFeedbackByOpenId();\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t\tuni.$on('updateFeedbackList', function(data) {\r\n\t\t\t\tthis.getFeedbackByOpenId();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t///wx/getFeedbackOptById\r\n\t\t// 获取所有反馈类型\r\n\t\tgetAllFeedbackType() {\r\n\t\t\tif (this.FeedbackType.length > 0) {\r\n\t\t\t\t// 读取缓存\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet _url = `${this.$config.wxBaseUrl}/wx/getAllFeedbackType`;\r\n\t\t\tlet _self = this;\r\n\t\t\tthis.getOrPostDataBy(_url).then(res => {\r\n\t\t\t\t_self.FeedbackType = res;\r\n\t\t\t});\r\n\t\t},\r\n\t\texpandDetail(status, detailId, index) {\r\n\t\t\tthis.FeedbackList[index].isExpand = !status;\r\n\t\t\tif (!!!this.FeedbackList[index].isExpand) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet _url = `${this.$config.wxBaseUrl}/wx/getFeedbackOptById`;\r\n\t\t\tlet params = {\r\n\t\t\t\tfeedbackId: detailId\r\n\t\t\t};\r\n\t\t\tlet _self = this;\r\n\t\t\tclearTimeout(this.expandDetailTimer);\r\n\t\t\tthis.expandDetailTimer = setTimeout(() => {\r\n\t\t\t\tthis.getOrPostDataBy(_url, params).then(res => {\r\n\t\t\t\t\t//debugger\r\n\t\t\t\t\tif (res.length > 0) {\r\n\t\t\t\t\t\tres.forEach(item=>{\r\n\t\t\t\t\t\t\tlet detailInfo = item.username + ' ' + item.createtime;\r\n\t\t\t\t\t\t\tswitch (Number(item.optdetail)){\r\n\t\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\t// 接收\r\n\t\t\t\t\t\t\t\t_self.FeedbackList[index].receiveInfo = detailInfo; // 接收\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t   case 3:\r\n\t\t\t\t\t\t\t   // 分配\r\n\t\t\t\t\t\t\t   _self.FeedbackList[index].handleInfo = detailInfo; // 分配\r\n\t\t\t\t\t\t\t   \tbreak;\r\n\t\t\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\t\t\t// 完工\r\n\t\t\t\t\t\t\t\t_self.FeedbackList[index].endInfo = detailInfo; // 完工\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t\t\t// 回访\r\n\t\t\t\t\t\t\t\t_self.FeedbackList[index].approvalInfo = detailInfo; // 回访\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\t\t\t// 评价\r\n\t\t\t\t\t\t\t\tlet remarkDetail = item.remark;\r\n\t\t\t\t\t\t\t\t_self.FeedbackList[index].evaluateInfo = remarkDetail; // 评价\r\n\t\t\t\t\t\t\t\t\tbreak;\t\t\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t// // 获取微信openID\r\n\t\t\r\n\t\t// 校验是否已经获取了微信OPENID,否则提示再次获取\r\n\t\tcheckOpenIdBeforePost() {\r\n\t\t\tif (!!!this.wxOpenId) {\r\n\t\t\t}\r\n\t\t},\r\n\t\t/// 根据openID获取用户反馈列表\r\n\t\tgetFeedbackByOpenId() {\r\n\t\t\tthis.loadDataText = '加载中...'\r\n\t\t\tif(this.pageSetting.current==1){\r\n\t\t\t\tthis.FeedbackList = [];\r\n\t\t\t}\r\n\t\t\tlet _url = `${this.$config.wxBaseUrl}/wx/getFeedbackByOpenId`;\r\n\t\t\tlet params = {\r\n\t\t\t\tpage:this.pageSetting.current,\r\n\t\t\t\tpageSize:this.pageSetting.pageSize,\r\n\t\t\t\topenId: this.wxOpenId,\r\n\t\t\t\tuserType:'guest',\r\n\t\t\t\t//progressType:0\r\n\t\t\t};\r\n\t\t\tlet _self = this;\r\n\t\t\tthis.getOrPostDataBy(_url, params).then(res => {\r\n\t\t\t\tthis.loadDataText = '暂无数据'\r\n\t\t\t\t_self.hasNextPage = res.hasNextPage\r\n\t\t\t\tif (res && res.list && res.list.length > 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet dataFormat = res.list.map(item => {\r\n\t\t\t\t\t\t// 自定义字段,是否展开\r\n\t\t\t\t\t\titem.proposeInfo = ''; // 提出\r\n\t\t\t\t\t\titem.approvalInfo = ''; // 审批\r\n\t\t\t\t\t\titem.receiveInfo = ''; // 接收\r\n\t\t\t\t\t\titem.handleInfo = ''; // 处理\r\n\t\t\t\t\t\titem.endInfo = ''; // 完结\r\n\t\t\t\t\t\titem.evaluateInfo = ''; // 评价\r\n\t\t\t\t\t\titem.isExpand = false;\r\n\t\t\t\t\t\titem.typecodeName = _self.getTypeCodeName(item.typecode);\r\n\t\t\t\t\t\t// 时间戳转时间格式\r\n\t\t\t\t\t\t//item.createtime = timeToDate(item.createtime);\r\n\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(_self.pageSetting.current==1){\r\n\t\t\t\t\t\t_self.FeedbackList = dataFormat;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_self.FeedbackList = _self.FeedbackList.concat(dataFormat);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tthis.loadDataText = '暂无数据'\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取类别名称\r\n\t\tgetTypeCodeName(typeCode) {\r\n\t\t\tif (this.FeedbackType && this.FeedbackType.length > 0) {\r\n\t\t\t\tlet typeCodeItem = this.FeedbackType.find(item => {\r\n\t\t\t\t\treturn item.typecode == typeCode;\r\n\t\t\t\t});\r\n\t\t\t\tif (!!typeCodeItem && Object.keys(typeCodeItem).length > 0) {\r\n\t\t\t\t\treturn typeCodeItem.typename;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn typeCode;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn typeCode;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//评价点击事件\r\n\t\tevaluatetap(statusCode, feedbackId) {\r\n\t\t\tthis.feedbackId = feedbackId;\r\n\t\t\tlet status = Number(statusCode);\r\n\t\t\tif (status == 5) {\r\n\t\t\t\t// 显示评价弹框\r\n\t\t\t\tthis.showColorUiDialog = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.$refs['Message'].info('请等待回访后再评价');\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 跳转反馈页面\r\n\t\ttofeedbackSys() {\r\n\t\t\tif(!!this.wxOpenId){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: 'feedbackSys?wxOpenId=' + this.wxOpenId\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tthis.$refs['Message'].error('微信授权失败,无法反馈!');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.evaluateInfoBox{\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tmin-height: 40rpx;\r\n\t\t//flex-wrap: wrap;\r\n\t\t.evaluateInfoItem{\r\n\t\t\t//border: 1px solid red;\r\n\t\t\t&.leftItem{\r\n\t\t\t\twidth: 14%;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t}\r\n\t\t\t&.lastItem{\r\n\t\t\t\t//color: #Effeff;\r\n\t\t\t\tmargin-top: 5rpx;\r\n\t\t\t\tfont-size: 27rpx;\r\n\t\t\t\twidth: 85%;\r\n\t\t\t\tword-wrap:break-word;\r\n\t\t\t\tword-break:normal;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.feedbackBtn{\r\n\t\tfont-size: 25rpx;\r\n\t\tbackground: #007aff;\r\n\t\tborder-radius: 5px;\r\n\t\tcolor: white;\r\n\t\tpadding: 15rpx;\r\n\t}\r\n\t.noDataListShow{\r\n\t\theight: 200rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n.modalFormBox {\r\n\tdisplay: flex;\r\n\tmargin: 0 10px;\r\n\t//background: white;\r\n\t.modalFormItem {\r\n\t\theight: 300rpx;\r\n\t\twidth: 100%;\r\n\t\t//border: 1px solid red;\r\n\t}\r\n}\r\n.statusfeedCurrent {\r\n\tcolor: #007aff;\r\n}\r\n.statusfeedDone {\r\n\tcolor: #afafaf;\r\n}\r\n.statusfeedPending {\r\n\tcolor: #000;\r\n}\r\n.maringR {\r\n\tmargin-right: 10rpx;\r\n}\r\n.xunhoutop {\r\n\tposition: fixed;\r\n\twidth: 100%;\r\n\tz-index: 10;\r\n}\r\n.border-top {\r\n\tborder-top: 1px solid #eee;\r\n}\r\n.cu-form-group .title {\r\n\tmin-width: calc(4em + 15px);\r\n}\r\n.xunhuoclass {\r\n\tmargin-top: 10px;\r\n}\r\n.xunhoubtm {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tposition: fixed;\r\n\tbackground-color: #ffffff;\r\n\tbottom: 0px;\r\n\twidth: 100%;\r\n}\r\n.xunhoubtm > view:first-child {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin: 5px;\r\n}\r\n.xunhoubtm > view:last-child {\r\n\tmargin: 5px;\r\n}\r\n.flex-sub {\r\n\tbackground-color: #ffffff;\r\n}\r\n</style>\n","import mod from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./feedbackList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./feedbackList.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599187777711\n      var cssReload = require(\"F:/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}