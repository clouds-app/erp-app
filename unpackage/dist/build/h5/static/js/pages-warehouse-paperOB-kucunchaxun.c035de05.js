(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-warehouse-paperOB-kucunchaxun"],{"05dc":function(t,e,i){"use strict";i.r(e);var r=i("c9b0"),a=i("815b");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("0d20");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"07b9e4e9",null,!1,r["a"],o);e["default"]=u.exports},"0d20":function(t,e,i){"use strict";var r=i("c01a"),a=i.n(r);a.a},"37d5":function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,".xunhoutop[data-v-3f8e9a95]{position:fixed;width:100%;z-index:10}.chucangbtm[data-v-3f8e9a95]{position:fixed;bottom:0;width:100%;background-color:#fff}.margin-text-center[data-v-3f8e9a95]{text-align:center;margin:%?20?%}.border-top[data-v-3f8e9a95]{border-top:1px solid #eee}.cu-form-group .title[data-v-3f8e9a95]{min-width:calc(4em + 15px)}",""]),t.exports=e},"3d02":function(t,e,i){"use strict";(function(t){var r=i("4ea4");i("d81d"),i("a9e3"),i("d3b7"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=r(i("1da1")),n=r(i("ee99")),o={customers:"",productId:""},s={data:function(){return{productList:[],modalName:null,searchKeyword:"",modalArry:[],formItem:Object.assign({},o)}},props:{otherHeight:{type:Number,default:50}},mounted:function(){this.loadproductList()},onReady:function(){this.loadproductList()},methods:{loadproductList:function(){var t=this;this.productList=[];var e={};this.toast.loading(),n.default.post("/warehouse/warehouse/execute/appFindSPaperType",e).then((function(e){var i=e.list.map((function(t){var e={type:t.value,ct_Desc:t.text};return e}));t.productList=i})).catch((function(e){t.toast.meseage("数据加载失败")})),this.toast.hide()},modalclicl:function(t){this.modelVal;this.formItem.customers=this.modalArry[t].ct_Desc,this.formItem.productId=this.modalArry[t].type,this.$emit("input",this.formItem.productId),this.modalName=null},hideModal:function(t){this.modalName=null},filterDataSource:function(t){var e=this,i={Name:t.detail.value};n.default.post("/warehouse/warehouse/execute/appFindSPaperType",i).then((function(t){var i=t.list.map((function(t){var e={type:t.value,ct_Desc:t.text};return e}));e.modalArry=i}))},showModal:function(t){this.modelVal=t,this.searchKeyword="",this.modalName="DrawerModalL",this.modalArry=this.productList},setTableHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.otherHeight=0);try{var e=uni.getSystemInfoSync();return this.leftContentHeight=e.windowHeight-this.CustomBar-this.otherHeight-10,this.leftContentHeight}catch(i){}},getOtherContentHeight:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentHeight";return new Promise((function(i,r){var a=t,n=uni.createSelectorQuery().in(a).select("."+e);n.boundingClientRect((function(t){a.otherHeight=t.height,t.height,i(t.height)})).exec((function(t){}))}))},getTableHeight:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var r,a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e,a=r.setTableHeight(),t("log",a," at pages/warehouse/paperOB/typeselect.vue:165"),i.next=5,r.getOtherContentHeight("titlefrom");case 5:n=i.sent,t("log",n," at pages/warehouse/paperOB/typeselect.vue:167");case 7:case"end":return i.stop()}}),i)})))()}}};e.default=s}).call(this,i("0de9")["log"])},"3dc5":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r}));var r={selectDropdown:i("5c5c").default,searchForm:i("cbc5").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{staticClass:"titlefrom",attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v("原纸库存查询")])],2),i("v-uni-form",{staticClass:"xunhoutop"},[i("v-uni-view",{staticClass:"bodyContentHeight"},[i("v-uni-view",{staticClass:"flex border-top"},[i("v-uni-view",{staticClass:"flex-sub"},[i("selectDropdown",{ref:"customerDrawer",attrs:{otherHeight:t.CustomBarHeight,title:"制造商",url:"appFindVendor",placeholdertext:"请选择制造商"},model:{value:t.paperStoreItem.findVendor,callback:function(e){t.$set(t.paperStoreItem,"findVendor",e)},expression:"paperStoreItem.findVendor"}})],1),i("v-uni-view",{staticClass:"flex-sub"},[i("selectDropdown",{ref:"findPaperLimit",attrs:{otherHeight:t.CustomBarHeight,title:"门ㅤ幅",url:"appFindPaperLimit",placeholdertext:"ㅤ请选择门幅"},model:{value:t.paperStoreItem.findPaperLimitCode,callback:function(e){t.$set(t.paperStoreItem,"findPaperLimitCode",e)},expression:"paperStoreItem.findPaperLimitCode"}})],1)],1),i("v-uni-view",{staticClass:"flex border-top"},[i("v-uni-view",{staticClass:"flex-sub"},[i("selectDropdown",{ref:"customertype",attrs:{otherHeight:t.CustomBarHeight,title:"类ㅤ型",url:"appFindSPaperType",placeholdertext:"请选择类型"},model:{value:t.paperStoreItem.findSPaperType,callback:function(e){t.$set(t.paperStoreItem,"findSPaperType",e)},expression:"paperStoreItem.findSPaperType"}})],1),i("v-uni-view",{staticClass:"flex-sub"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("克ㅤ重:")]),i("v-uni-input",{attrs:{placeholder:"请输入克重"},model:{value:t.paperStoreItem.Gram,callback:function(e){t.$set(t.paperStoreItem,"Gram",e)},expression:"paperStoreItem.Gram"}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group border-top"},[i("v-uni-view",{staticClass:"title"},[t._v("卷ㅤ号:")]),i("v-uni-input",{attrs:{placeholder:"请输入卷号",name:"input"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.findGoods.apply(void 0,arguments)}},model:{value:t.paperStoreItem.Coil,callback:function(e){t.$set(t.paperStoreItem,"Coil",e)},expression:"paperStoreItem.Coil"}}),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.turnOnScanCode.apply(void 0,arguments)}}},[t._v("扫描")])],1)],1)],1),i("v-uni-view",{staticStyle:{height:"120px"}}),t._l(t.fromdata,(function(e,r){return i("v-uni-view",{key:r,staticClass:"grid-warp"},[i("v-uni-view",{staticClass:"grid-title"},[i("v-uni-view",[t._v("卷号:"+t._s(e.CoilNo))]),i("v-uni-view",[t._v("仓位:"+t._s(e.StationName))])],1),i("v-uni-view",{staticClass:"grid-body"},[i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("供应商："+t._s(e.VendorName))])],1),i("v-uni-view",[i("v-uni-text",[t._v("重量："+t._s(e.Ewt))])],1)],1),i("v-uni-view",{staticClass:"grid-flex padding-10"},[i("v-uni-view",[i("v-uni-text",[t._v("类ㅤ型："+t._s(e.SPaperName))])],1),i("v-uni-view",[i("v-uni-text",[t._v("门幅："+t._s(e.Width))])],1)],1)],1)],1)})),i("v-uni-view",{staticStyle:{height:"80px"}}),i("v-uni-view",{staticClass:"chucangbtm"},[i("v-uni-view",{ref:"elBtn",staticClass:"flex solid-bottom padding justify-around elBtn"},[i("v-uni-view",[i("v-uni-button",{staticClass:"bg-grey radius",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resetFrom.apply(void 0,arguments)}}},[t._v("清除")])],1),i("v-uni-view",{staticStyle:{"margin-top":"5px"}},[i("v-uni-text",[t._v("总卷数:"+t._s(t.numbertext))])],1),i("v-uni-view",[i("v-uni-button",{staticClass:"bg-grey radius",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.paprtIn.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1)],1),i("searchForm",{ref:"searchForm",attrs:{dataSource:t.dataSource},on:{getSelectDataInfo:function(e){arguments[0]=e=t.$handleEvent(e),t.getSelectDataInfo.apply(void 0,arguments)}}})],2)},n=[]},"58be":function(t,e,i){"use strict";(function(t){var r=i("4ea4");i("13d5"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(i("50ce")),n=(r(i("c9dc")),r(i("ee99"))),o={name:"mixin-base",data:function(){return{pageSetting:{current:1,pageSize:20,total:100},isLoaddingData:!1,otherHeight:0,leftContentHeight:0,avgWidth:90}},computed:{CustomBarHeight:function(){return this.CustomBar},userInfo:function(){var t=a.default.get(this.appConst.CLIENT_USER_CACHE_NAME);return t}},methods:{checkScan:function(){return void 0!==window},addThousandthSign:function(t){if(t){var e=/(\d{1,3})(?=(\d{3})+(?:$|\.))/g;return t.toString().replace(e,"$1,")}return"0.00"},rowClassNameFn:function(t,e){return Number(e)%2==0?"table-single-row":""},onChangeInToCache:function(t,e){e&&e.tokenKey&&a.default.put(String(e.tokenKey),t)},getTableAvgWidth:function(t){var e=0;this.avgWidth=90;var i=0;return t&&t.length>0&&(e=t.length,i=t.reduce((function(t,e){return t+=Number(e.$width?e.$width:0),t}),0)),i>0&&e>0&&(this.avgWidth=~~(i/e)),this.avgWidth},getOrPostDataBy:function(t,e){var i=this;return this.isLoaddingData=!0,this.toast.loading(),new Promise((function(r,a){try{n.default.post(t,e).then((function(t){i.toast.hide(),r(t),i.isLoaddingData=!1})).catch((function(t){i.toast.hide(),a(t),"string"===typeof t?i.toast.message(t):i.toast.message("系统繁忙，请稍后再试!"),i.isLoaddingData=!1}))}catch(o){i.toast.hide(),i.isLoaddingData=!1}}))},getOtherContentHeight:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentHeight";return new Promise((function(r,a){var n=e,o=uni.createSelectorQuery().select("."+i);o.boundingClientRect((function(e){t("log","other Height:"+e.height," at mixins/index.js:118"),n.otherHeight=e.height,e.height,r(e.height)})).exec((function(t){}))}))},setTableHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.otherHeight=0);try{var i=uni.getSystemInfoSync();return t("log","CustomBar:"+this.CustomBar," at mixins/index.js:134"),this.leftContentHeight=i.windowHeight-this.CustomBar-this.otherHeight-10,this.leftContentHeight}catch(r){}}}};e.default=o}).call(this,i("0de9")["log"])},"6a2b":function(t,e,i){"use strict";i.r(e);var r=i("3dc5"),a=i("ba9a");for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("b2b5");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"3f8e9a95",null,!1,r["a"],o);e["default"]=u.exports},"815b":function(t,e,i){"use strict";i.r(e);var r=i("3d02"),a=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);e["default"]=a.a},"82d5":function(t,e,i){"use strict";function r(t){var e=new Date,i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":e.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+r+")").test(fmt)&&(fmt=fmt.replace(RegExp.$1,1==RegExp.$1.length?i[r]:("00"+i[r]).substr((""+i[r]).length)));return fmt}i("4d63"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},b2b5:function(t,e,i){"use strict";var r=i("c6e0"),a=i.n(r);a.a},ba9a:function(t,e,i){"use strict";i.r(e);var r=i("d2a3"),a=i.n(r);for(var n in r)"default"!==n&&function(t){i.d(e,t,(function(){return r[t]}))}(n);e["default"]=a.a},bec8:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,".search[data-v-07b9e4e9]{\n\t/* display: flex; */position:fixed;width:60%;z-index:2000000}",""]),t.exports=e},c01a:function(t,e,i){var r=i("bec8");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("6313aff6",r,!0,{sourceMap:!1,shadowMode:!1})},c6e0:function(t,e,i){var r=i("37d5");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("4f06").default;a("e75fa118",r,!0,{sourceMap:!1,shadowMode:!1})},c9b0:function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"cu-form-group border-top"},[i("v-uni-view",{staticClass:"title"},[t._v("类ㅤ型:")]),i("v-uni-input",{attrs:{disabled:!0,placeholder:"请选择类型",name:"input"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}},model:{value:t.formItem.customers,callback:function(e){t.$set(t.formItem,"customers",e)},expression:"formItem.customers"}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"DrawerModalL"==t.modalName,expression:"modalName=='DrawerModalL'"}],staticClass:"cu-bar bg-white search",style:[{top:t.otherHeight+"px"}]},[i("v-uni-view",{staticClass:"search-form round"},[i("v-uni-text",{staticClass:"cuIcon-search"}),i("v-uni-input",{attrs:{type:"text",placeholder:"类型列表","confirm-type":"search"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.filterDataSource.apply(void 0,arguments)}},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1)],1),i("v-uni-view",{staticClass:"cu-modal drawer-modal justify-start",class:"DrawerModalL"==t.modalName?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cu-dialog basis-lg",staticStyle:{overflow:"scroll"},style:[{top:t.CustomBar+"px",height:"calc(100vh - "+t.CustomBar+"px)"}],on:{click:[function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)},function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}]}},[i("v-uni-view",{staticClass:"cu-list menu text-left",staticStyle:{"padding-top":"43px"}},t._l(t.modalArry,(function(e,r){return i("v-uni-view",{key:r,staticClass:"cu-item arrow"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modalclicl(r)}}},[t._v(t._s(e.ct_Desc))])],1)],1)})),1),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"cu-bar bg-white "},[i("strong"),i("v-uni-view",{staticClass:"search-form round"}),i("v-uni-view",{staticClass:"action"})],1)],1)],1)],1)],1)},n=[]},c9dc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={title:"webApp",isRunApp:!1,cookieExpires:1,baseUrl:{dev:"http://192.168.0.218:8080",pro:"http://192.168.0.218:8080"},baseImgUrl:"http://192.168.0.218:8080/clerp-app-api",homeName:"home",plugin:{}};e.default=r},d2a3:function(t,e,i){"use strict";(function(t){var r=i("4ea4");i("c975"),i("d81d"),i("d3b7"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=r(i("1da1")),n=r(i("5c5c")),o=r(i("05dc")),s=r(i("8fde")),u=r(i("c8d6")),c=r(i("ee99")),p=r(i("82d5")),d=r(i("58be")),l=r(i("a29c")),h={name:"paperOB",mixins:[d.default],components:{zTable:s.default,cuCustom:u.default,searchForm:l.default,typeselect:o.default,selectDropdown:n.default},data:function(){return{dataSource:[],numbertext:0,scanType:"orderNo",TabCur:0,scrollLeft:0,dataTableList:[],errorContent:"暂无数据",tableHeight:500,paperStoreTableData:[],operStatus:"",paperOutBtnShow:!1,paperBackBtnShow:!1,findVendorList:[],findPaperLimitList:[],findSPaperTypeList:[],fromdata:[],paperOutFormInit:{instruct:"",line:"",group:"",outUser:"",inUser:"",coil:"",paperType:"暂ㅤ无",gram:"0",paperWidth:"暂ㅤ无",ewt:"",desc:""},paperStoreItem:{findVendor:"",findVendorCode:"",findPaperLimit:"",findPaperLimitCode:"",findSPaperType:"",findSPaperTypeCode:"",Vend:"",Type:"",Station:"",Width:"",Gram:"",Coil:""}}},computed:{storeTableHeight:function(){return this.screen.height/2+25}},mounted:function(){},methods:{setTableHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.otherHeight=0);try{var e=uni.getSystemInfoSync();return this.leftContentHeight=e.windowHeight-this.CustomBar-this.otherHeight-10,this.leftContentHeight}catch(i){}},getOtherContentHeight:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentHeight";return new Promise((function(i,r){var a=t,n=uni.createSelectorQuery().in(a).select("."+e);n.boundingClientRect((function(t){a.otherHeight=t.height,t.height,i(t.height)})).exec((function(t){}))}))},getTableHeight:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,i.setTableHeight(),e.next=4,i.getOtherContentHeight("titlefrom");case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))()},getfindPaperLimitList:function(){var t=this,e={};this.gerRequstdata("appFindPaperLimit",e).then((function(e){var i=e.list.map((function(t){var e={type:t.value,ct_Desc:t.text};return e}));t.findPaperLimitList=i}))},gerRequstdata:function(t,e){return c.default.post("/warehouse/warehouse/execute/".concat(t),e)},paprtIn:function(){var e=this;if(""!=this.paperStoreItem.findSPaperType||""!=this.paperStoreItem.Coil||""!=this.paperStoreItem.findPaperLimitCode||""!=this.paperStoreItem.Gram||""!=this.paperStoreItem.findVendor){this.fromdata=[],this.numbertext=0;var i={Coil:this.paperStoreItem.Coil,Vend:this.paperStoreItem.findVendor,Type:this.paperStoreItem.findSPaperType,Width:this.paperStoreItem.findPaperLimitCode,Gram:this.paperStoreItem.Gram,Station:this.paperStoreItem.Vend};this.toast.loading(),c.default.post("/warehouse/warehouse/execute/appSpSPaperStoreQueryForPDA",i).then((function(i){t("log",i," at pages/warehouse/paperOB/kucunchaxun.vue:277"),i.list.length>0?(e.toast.hide(),e.fromdata=i.list,e.numbertext=i.list.length):(e.toast.hide(),e.toast.message("暂无数据"))})).catch((function(t){e.toast.hide(),e.toast.message("数据加载失败")}))}else this.toast.message("至少选择一个条件")},resetFrom:function(){this.fromdata=[],this.paperStoreItem.findVendor="",this.$refs.customerDrawer.$data.formItem.customers="",this.$refs.customerDrawer.$data.formItem.customersId="",this.$refs.findPaperLimit.$data.formItem.customers="",this.$refs.findPaperLimit.$data.formItem.customersId="",this.$refs.customertype.$data.formItem.customers="",this.$refs.customertype.$data.formItem.customersId="",this.paperStoreItem.findVendor="",this.paperStoreItem.findPaperLimit="",this.paperStoreItem.findSPaperType="",this.paperStoreItem.Gram="",this.paperStoreItem.Coil="",this.numbertext=0},setSearchDataListSource:function(t){this.currentSelect=t,this.$refs["searchForm"].isMultipel=!1,this.$refs["searchForm"].isShowSearchList=!0,"findVendor"===t?(this.dataSource=this.findVendorList,this.$refs["searchForm"].dataSourceList=this.findVendorList):"findPaperLimit"===t?(this.dataSource=this.findPaperLimitList,this.$refs["searchForm"].dataSourceList=this.findPaperLimitList):(this.dataSource=this.findSPaperTypeList,this.$refs["searchForm"].dataSourceList=this.findSPaperTypeList)},getSelectDataInfo:function(t){switch(this.currentSelect){case"findVendor":this.paperStoreItem.findVendor=t.ct_Desc,this.paperStoreItem.findVendorCode=t.type;break;case"findPaperLimit":this.paperStoreItem.findPaperLimit=t.ct_Desc,this.paperStoreItem.findPaperLimitCode=t.type;break;case"findSPaperType":this.paperStoreItem.findSPaperType=t.ct_Desc,this.paperStoreItem.findSPaperTypeCode=t.type;break;default:break}},findGoods:function(){var t=this,e={Coil:this.paperStoreItem.Coil,Vend:this.paperStoreItem.findVendorCode,Type:this.paperStoreItem.findSPaperTypeCode,Width:this.paperStoreItem.findPaperLimitCode,Gram:this.paperStoreItem.Gram};this.toast.loading(),c.default.post("/warehouse/warehouse/execute/appSpSPaperStoreQueryForPDA",e).then((function(e){e.list&&e.list.length>0?(t.toast.hide(),t.fromdata=e.list,t.numbertext=e.list.length):(t.toast.hide(),t.paperStoreItem.Coil="",t.toast.message("没有该订单对应的数据"))})).catch((function(e){t.toast.hide(),t.errorContent="暂无数据",t.toast.message("获取数据失败:"+e)}))},turnOnScanCode:function(e){if(void 0===window){this.scanType=e;var i=this;uni.scanCode({scanType:"barCode",success:function(e){var r=e.result.indexOf(","),a=0;a=r<0?e.result:e.result.substring(0,r),t("log","条码内容："+e.result," at pages/warehouse/paperOB/kucunchaxun.vue:405"),i.paperStoreItem.Coil=a,t("log",a," at pages/warehouse/paperOB/kucunchaxun.vue:407"),i.findGoods()}})}else this.toast.message('请在"e包装"公众号中下载APP后扫码!')},getInstruct:function(t){if(""!=t){var e=t.split("+");if(!(e.length<5)){var i={line:e[1],group:e[2],inUser:e[4],outUser:e[3]};return i}uni.showToast({title:"数据解析失败，参数个数不够",icon:"none",duration:2e3})}else"orderNo"===this.scanType?uni.showToast({title:"请输入或扫描指令",icon:"none",duration:2e3}):"rollNo"===this.scanType?uni.showToast({title:"请输入或扫描卷号",icon:"none",duration:2e3}):uni.showToast({title:"请输入必要信息",icon:"none",duration:2e3})},paperOutInstructBlur:function(){this.scanType="orderNo";var t=this.getInstruct(this.paperOutFormItems.instruct);t&&(Object.assign(this.paperOutFormItems,t),this.paperOutFormItems.instruct="")},paperBackInstructBlur:function(){var t=this.getInstruct(this.paperBackFormItems.instruct);t&&(Object.assign(this.paperBackFormItems,t),this.paperBackFormItems.instruct="")},paperOBRequest:function(t,e){var i=this;return new Promise((function(r,a){i.toast.loading(),c.default.post(t).then((function(t){if(i.toast.hide(),t.list.length>0)return t.list[0].ErrorStr&&""!=t.list[0].ErrorStr?void i.toast.message(t.list[0].ErrorStr):(i.toast.message(e+"成功"),void r(t));i.toast.message(e+"失败")})).catch((function(t){i.toast.hide(),i.errorContent="暂无数据",i.toast.message("获取数据失败:"+t),a()}))}))},paperOut:function(){var t=this;if(""!=this.paperOutFormItems.coil){var e={Line:this.paperOutFormItems.line,Group:this.paperOutFormItems.group,Oper:"admin",Flag:"out",Coil:this.paperOutFormItems.coil,OutUseID:this.paperOutFormItems.outUser,InUseID:this.paperOutFormItems.inUser,Wt:this.paperOutFormItems.ewt,OperDate:(0,p.default)("yyyy-MM-dd hh:mm:ss")};this.paperOBRequest(e,"出仓").then((function(e){t.paperOutFormItems=JSON.parse(JSON.stringify(t.paperOutFormInit)),t.paperOutBtnShow=!1}))}else this.toast.message("请输入或扫描卷号")},paperBack:function(){var t=this;if(""!=this.paperBackFormItems.coil){var e={Line:this.paperBackFormItems.line,Group:this.paperBackFormItems.group,Oper:"admin",Flag:"back",Coil:this.paperBackFormItems.coil,OutUseID:this.paperBackFormItems.outUser,InUseID:this.paperBackFormItems.inUser,Wt:this.paperBackFormItems.ewt,OperDate_IN_date:(0,p.default)("yyyy-MM-dd hh:mm:ss"),ErrorStr_OUT_varchar:""};this.paperOBRequest(e,"退仓").then((function(e){t.paperBackFormItems=JSON.parse(JSON.stringify(t.paperOutFormInit)),t.paperBackBtnShow=!1}))}else this.toast.message("请输入或扫描卷号")},paperStoreSearch:function(){var t=this;""!=this.paperStoreItem.Type?(this.errorContent="数据加载中...",this.toast.loading(),c.default.post("/warehouse/warehouse/execute/spSPaperStoreQueryForPDA",this.paperStoreItem).then((function(e){t.toast.hide(),e=e.list,t.paperStoreTableData=e,t.errorContent="暂无数据"})).catch((function(e){t.toast.hide(),t.errorContent="暂无数据",t.toast.message("获取数据失败:"+e)}))):this.toast.message("请输入纸类")}}};e.default=h}).call(this,i("0de9")["log"])}}]);