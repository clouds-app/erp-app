(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-uCenter-switchAccount"],{"2f69":function(t,n,e){"use strict";e.r(n);var c=e("5130"),u=e("f724");for(var i in u)"default"!==i&&function(t){e.d(n,t,(function(){return u[t]}))}(i);var s,a=e("f0c5"),o=Object(a["a"])(u["default"],c["b"],c["c"],!1,null,"9d3745ce",null,!1,c["a"],s);n["default"]=o.exports},5130:function(t,n,e){"use strict";var c;e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return c}));var u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",[e("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[e("template",{attrs:{slot:"content"},slot:"content"},[t._v("账户切换")])],2)],1),e("v-uni-view",{staticClass:"cu-list menu sm-border"},[t._l(t.accountList,(function(n,c){return e("v-uni-view",{key:c,staticClass:"cu-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchAccount(n.id)}}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-circlefill text-blue"}),e("v-uni-text",{staticClass:"text-blue"},[t._v(t._s(n.name))])],1)],1)})),e("v-uni-view",{staticClass:"cu-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.openAddAccount.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-circlefill text-grey"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("添加账户")])],1)],1)],2)],1)},i=[]},a8d0:function(t,n,e){"use strict";var c=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=c(e("c8d6")),i=c(e("ee99")),s={components:{cuCustom:u.default},data:function(){return{accountList:[],loginParam:{customerCode:"",phoneNo:"",password:"",customerName:""}}},methods:{getUserAccountList:function(){var t=this;i.default.get("/user/relation/list").then((function(n){t.accountList=n}))},openAddAccount:function(){this.router.navigate("/pages/uCenter/addAccount")},switchAccount:function(t,n){var e=this;uni.showModal({title:"提示",content:"确定要切换账户吗?",success:function(c){c.confirm&&i.default.get("/user/relation/switch/".concat(t)).then((function(t){e.toast.message("账户切换成功"),e.cache.clear(),e.cache.put(e.appConst.CLIENT_TOKEN_NAME,t.token),e.cache.put(e.appConst.CLIENT_USER_CACHE_NAME,t.user),e.cache.put(e.appConst.CLIENT_CUSTOMER_CODE,n),e.router.reLaunch("/pages/index/index"),uni.$emit("account-switch-success")}))}})}},created:function(){this.getUserAccountList()},onLoad:function(){var t=this;uni.$on("account-relation-success",(function(){t.getUserAccountList()}))}};n.default=s},f724:function(t,n,e){"use strict";e.r(n);var c=e("a8d0"),u=e.n(c);for(var i in c)"default"!==i&&function(t){e.d(n,t,(function(){return c[t]}))}(i);n["default"]=u.a}}]);