(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-warehouse-paperIn-paperIn"],{2203:function(t,e,a){"use strict";a.r(e);var s=a("78f6"),r=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=r.a},"238f":function(t,e,a){"use strict";a.r(e);var s=a("5c5c4"),r=a("2203");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("48a7");var i,o=a("f0c5"),u=Object(o["a"])(r["default"],s["b"],s["c"],!1,null,"4e2d5c00",null,!1,s["a"],i);e["default"]=u.exports},"48a7":function(t,e,a){"use strict";var s=a("55e9"),r=a.n(s);r.a},"55e9":function(t,e,a){var s=a("8e9c");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var r=a("4f06").default;r("5f8d2773",s,!0,{sourceMap:!1,shadowMode:!1})},"5c5c4":function(t,e,a){"use strict";var s;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[a("template",{attrs:{slot:"content"},slot:"content"},[t._v("纸板出入库")])],2),a("v-uni-scroll-view",{staticClass:"bg-white nav",attrs:{"scroll-x":!0}},[a("v-uni-view",{staticClass:"flex text-center"},[a("v-uni-view",{staticClass:"cu-item flex-sub",class:0==t.TabCur?"text-blue cur":"",attrs:{"data-id":"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect.apply(void 0,arguments)}}},[t._v("入ㅤ库")]),a("v-uni-view",{staticClass:"cu-item flex-sub",class:1==t.TabCur?"text-blue cur":"",attrs:{"data-id":"1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect.apply(void 0,arguments)}}},[t._v("寻ㅤ货")]),a("v-uni-view",{staticClass:"cu-item flex-sub",class:2==t.TabCur?"text-blue cur":"",attrs:{"data-id":"2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect.apply(void 0,arguments)}}},[t._v("出仓扫描")])],1)],1),a("v-uni-form",{directives:[{name:"show",rawName:"v-show",value:0==t.TabCur,expression:"0 == TabCur"}]}),a("v-uni-form",{directives:[{name:"show",rawName:"v-show",value:1==t.TabCur,expression:"1 == TabCur"}]}),a("v-uni-form",{directives:[{name:"show",rawName:"v-show",value:2==t.TabCur,expression:"2 == TabCur"}]},[a("v-uni-view",{staticClass:"bodyContentHeight2"},[a("v-uni-view",{staticClass:"cu-form-group border-top"},[a("v-uni-view",{staticClass:"title"},[t._v("车ㅤ次:")]),a("v-uni-input",{attrs:{placeholder:"请输入车次"},model:{value:t.paperOutItem.batch,callback:function(e){t.$set(t.paperOutItem,"batch",e)},expression:"paperOutItem.batch"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("工单号:")]),a("v-uni-input",{attrs:{placeholder:"请输入工单号"},model:{value:t.paperOutItem.fOrderNo,callback:function(e){t.$set(t.paperOutItem,"fOrderNo",e)},expression:"paperOutItem.fOrderNo"}}),a("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.turnOnScanCode("out")}}},[t._v("扫描")])],1)],1),a("v-uni-view",{staticClass:"margin-text-center"},[a("v-uni-button",{staticClass:"primary-btn",attrs:{loading:!1,disabled:!1,type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.paperOut()}}},[t._v("查ㅤ询")])],1),a("zTable",{attrs:{showLoading:!1,emptyText:t.errorContent,tableData:t.paperOutTableDataItems,columns:t.findGoodsColumns}})],1)],1)},n=[]},"78f6":function(t,e,a){"use strict";(function(t){var s=a("4ea4");a("ac1f"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(a("8fde")),n=s(a("c8d6")),i=s(a("ee99")),o={name:"paperIn",components:{zTable:r.default,cuCustom:n.default},data:function(){return{TabCur:0,scrollLeft:0,dataTableList:[],errorContent:"暂无数据",tableHeight:0,findGoodsTableDataItems:[],paperOutTableDataItems:[],paperInFormItems:{instruct:"",station:"",fOrderNo:"",line:"",group:"",fQty:"",fDNum:"",desc:""},paperInFormInit:{instruct:"",station:"",fOrderNo:"",line:"",group:"",fQty:"",fDNum:"",desc:""},findGoodsItem:{fOrderNo:""},paperOutItem:{fOrderNo:"",batch:""},findGoodsColumns:[{key:"OrderNo",title:"工单号",width:200},{key:"Station",title:"仓位",width:200},{key:"FNum",title:"板号",width:200},{key:"State",title:"状态",width:145}]}},mounted:function(){},methods:{tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1)},turnOnScanCode:function(e){var a=this;uni.scanCode({scanType:"barCode",success:function(s){switch(t("log","条码内容："+s.result," at pages/warehouse/paperIn/paperIn.vue:127"),e){case"in":a.paperInFormItems.instruct=s.result,a.getParamsFromScanCode();break;case"out":this.paperOutItem.fOrderNo=s.result;break;case"search":this.findGoodsItem.fOrderNo=s.result;break;default:break}}})},barCodeBlur:function(){""!=this.paperInFormItems.instruct?this.getParamsFromScanCode():this.toast.message("请输入或扫描条码")},getParamsFromScanCode:function(){var t=this.paperInFormItems.instruct.split("*");if(t.length<5)this.toast.message("数据解析失败，参数个数不够");else{var e={fOrderNo:t[0],fDNum:t[1],fQty:t[2],line:t[3],group:t[4]};Object.assign(this.paperInFormItems,e)}},paperInRequest:function(t){return i.default.post("/warehouse/warehouse/execute/spScanOrder",t)},paprtIn:function(){var t=this;if(""!=this.paperInFormItems.station)if(""!=this.paperInFormItems.fOrderNo&&""!=this.paperInFormItems.fQty&&""!=this.paperInFormItems.fDNum&&""!=this.paperInFormItems.line&&""!=this.paperInFormItems.group){var e={BarCodeStr:this.paperInFormItems.instruct,Station:this.paperInFormItems.station,Flag:0,FOrderNo:this.paperInFormItems.fOrderNo,FQty:this.paperInFormItems.fQty,FDNum:this.paperInFormItems.fDNum,FLine:this.paperInFormItems.line,FClass:this.paperInFormItems.group,Remark:this.paperInFormItems.desc};this.toast.loading(),this.paperInRequest(e).then((function(e){t.toast.hide(),e.list&&1==e.list[0].res?t.toast.message("入仓成功"):t.toast.message("入仓失败")})).catch((function(e){t.toast.message("入仓失败"),t.toast.hide()}))}else this.toast.message("请先扫描完整的指令");else this.toast.message("请输入仓位")},findGoods:function(){var t=this;if(""!=this.findGoodsItem.fOrderNo){var e={FOrderNo:this.findGoodsItem.fOrderNo,BarCodeStr:this.findGoodsItem.fOrderNo,Flag:2};this.paperInRequest(e).then((function(e){e.list&&e.list.length>0&&(t.findGoodsTableDataItems=e.list)})).catch((function(e){t.toast.message("暂无数据")}))}else this.toast.message("请输入或扫描工单号")},paperOut:function(){var t=this;if(""!=this.paperOutItem.fOrderNo)if(""!=this.paperOutItem.batch){var e={FOrderNo:this.paperOutItem.fOrderNo,BarCodeStr:"",Flag:1};this.toast.loading(),this.paperInRequest(e).then((function(e){t.toast.hide(),e.list&&e.list.length>0&&(t.paperOutTableDataItems=e.list)})).catch((function(e){t.toast.hide(),t.toast.message("暂无数据")}))}else this.toast.message("请输入车次");else this.toast.message("请输入或扫描工单号")}}};e.default=o}).call(this,a("0de9")["log"])},"8e9c":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".margin-text-center[data-v-4e2d5c00]{text-align:center;margin:%?20?%}.border-top[data-v-4e2d5c00]{border-top:1px solid #eee}.cu-form-group .title[data-v-4e2d5c00]{min-width:calc(4em + 15px)}",""]),t.exports=e}}]);