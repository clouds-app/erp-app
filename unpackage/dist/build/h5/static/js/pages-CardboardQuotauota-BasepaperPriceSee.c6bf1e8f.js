(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-CardboardQuotauota-BasepaperPriceSee"],{"3a06":function(t,e,a){"use strict";(function(t){var i=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("e4fc")),s=i(a("58be")),o=i(a("c8d6")),c=i(a("ee99")),l={components:{cuCustom:o.default,vTable:n.default},mixins:[s.default],data:function(){return{updataMonny:"",modalName:"",tableclickdata:{},tableHeight:0,dataTableList:[],dataColumns:[{key:"Code",title:"类型",$width:160,titleAlign:"center",columnAlign:"center"},{key:"Name",title:"名称",$width:270,titleAlign:"center",columnAlign:"center"},{key:"Gram",title:"克重",$width:160,titleAlign:"center",columnAlign:"center"},{key:"Price",title:"执行价",$width:160,titleAlign:"center",columnAlign:"center"}],page:{pageSize:50,pageNum:1,showpage:!1}}},mounted:function(){this.calTableHeight()},methods:{calTableHeight:function(){var t=this;this.$nextTick((function(){setTimeout((function(){var e=t.setTableHeight(!0);t.tableHeight=e,t.getFromtableData()}),200)}))},getFromtableData:function(){var t=this;this.tableclickdata={};var e={UseID:this.userInfo.erpUserCode,pageSize:this.page.pageSize,pageNum:this.page.pageNum};this.toast.loading();var a=this;c.default.post("/warehouse/warehouse/execute/appGetSPaperPirceSet",e).then((function(e){a.checkShowpage(e.list),a.dataTableList=a.dataTableList.concat(e.list),t.toast.hide()})).catch((function(e){t.toast.hide(),a.toast.message(e)}))},checkShowpage:function(t){if(t.length>=50)return this.page.showpage=!0,void this.page.pageNum++;this.page.showpage=!1,this.page.pageNum=1},loadmoreData:function(){this.getFromtableData()},confirmFrom:function(){var t=this,e={ID1:this.tableclickdata.ID1,UseID:this.userInfo.erpUserCode,Price:this.updataMonny},a=this;this.toast.loading(),c.default.post("/warehouse/warehouse/execute/appUpSPaperPirceSet",e).then((function(e){if(e.list[0].res)return a.dataTableList=[],a.page.pageNum=1,a.getFromtableData(),t.toast.hide(),void t.hideModal()})).catch((function(e){t.toast.hide(),t.hideModal(),t.toast.message(e)}))},hideModal:function(){this.modalName="",this.updataMonny=""},updateData:function(){this.tableclickdata.Price?(this.updataMonny=JSON.parse(JSON.stringify(this.tableclickdata.Price)),this.modalName="DialogModal2"):this.toast.message("请选择操作行")},onSelectionChange:function(e){this.tableclickdata=e.new.item,t("log",this.tableclickdata," at pages/CardboardQuotauota/BasepaperPriceSee.vue:215")}}};e.default=l}).call(this,a("0de9")["log"])},"4c1d":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[a("template",{staticStyle:{height:"30px"},attrs:{slot:"content"},slot:"content"},[t._v("原纸价格查看")])],2),a("v-uni-view",{staticClass:"vtable"},[a("v-table",{attrs:{"row-class-Name":t.rowClassNameFn,columns:t.dataColumns,list:t.dataTableList,selection:"single","td-width":188,height:t.tableHeight-50},on:{"on-selection-change":function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectionChange.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"chucangbtm"},[a("v-uni-view",{ref:"elBtn",staticClass:"flex solid-bottom padding justify-around elBtn"},[a("v-uni-view",[a("v-uni-button",{staticClass:"cu-btn lines-green shadow",attrs:{disabled:!t.page.showpage},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmoreData.apply(void 0,arguments)}}},[t._v("加载更多数据")])],1),a("v-uni-view",[a("v-uni-button",{staticClass:"cu-btn lines-blue shadow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateData.apply(void 0,arguments)}}},[t._v("修改")])],1)],1)],1),a("v-uni-view",{staticClass:"cu-modal",class:"DialogModal2"==t.modalName?"show":""},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[a("v-uni-view",{staticClass:"content"},[t._v("修改")]),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),a("v-uni-view",{staticClass:"flex border-top"},[a("v-uni-view",{staticClass:"flex-sub"},[a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("类型:")]),a("v-uni-input",{attrs:{Name:"input",disabled:!0},model:{value:t.tableclickdata.Code,callback:function(e){t.$set(t.tableclickdata,"Code",e)},expression:"tableclickdata.Code"}})],1)],1),a("v-uni-view",{staticClass:"flex-sub"},[a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("名称:")]),a("v-uni-input",{attrs:{Name:"input",disabled:!0},model:{value:t.tableclickdata.Name,callback:function(e){t.$set(t.tableclickdata,"Name",e)},expression:"tableclickdata.Name"}})],1)],1)],1),a("v-uni-view",{staticClass:"flex border-top"},[a("v-uni-view",{staticClass:"flex-sub"},[a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("克重:")]),a("v-uni-input",{attrs:{Name:"input",disabled:!0},model:{value:t.tableclickdata.Gram,callback:function(e){t.$set(t.tableclickdata,"Gram",e)},expression:"tableclickdata.Gram"}})],1)],1),a("v-uni-view",{staticClass:"flex-sub"},[a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("执行价:")]),a("v-uni-input",{attrs:{type:"number",Name:"input",placeholder:"请输入执行价"},model:{value:t.updataMonny,callback:function(e){t.updataMonny=e},expression:"updataMonny"}})],1)],1)],1),a("v-uni-view",{staticClass:"cu-bar bg-white"},[a("v-uni-view",{staticClass:"action margin-0 flex-sub  solid-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-view",{staticClass:"action margin-0 flex-sub text-green solid-left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmFrom.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)},s=[]},"58be":function(t,e,a){"use strict";(function(t){var i=a("4ea4");a("13d5"),a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("50ce")),s=(i(a("c9dc")),i(a("ee99"))),o={name:"mixin-base",data:function(){return{pageSetting:{current:1,pageSize:20,total:100},isLoaddingData:!1,otherHeight:0,leftContentHeight:0,avgWidth:90}},computed:{CustomBarHeight:function(){return this.CustomBar},userInfo:function(){var t=n.default.get(this.appConst.CLIENT_USER_CACHE_NAME);return t}},methods:{checkScan:function(){return void 0!==window},addThousandthSign:function(t){if(t){var e=/(\d{1,3})(?=(\d{3})+(?:$|\.))/g;return t.toString().replace(e,"$1,")}return"0.00"},rowClassNameFn:function(t,e){return Number(e)%2==0?"table-single-row":""},onChangeInToCache:function(t,e){e&&e.tokenKey&&n.default.put(String(e.tokenKey),t)},getTableAvgWidth:function(t){var e=0;this.avgWidth=90;var a=0;return t&&t.length>0&&(e=t.length,a=t.reduce((function(t,e){return t+=Number(e.$width?e.$width:0),t}),0)),a>0&&e>0&&(this.avgWidth=~~(a/e)),this.avgWidth},getOrPostDataBy:function(t,e){var a=this;return this.isLoaddingData=!0,this.toast.loading(),new Promise((function(i,n){try{s.default.post(t,e).then((function(t){a.toast.hide(),i(t),a.isLoaddingData=!1})).catch((function(t){a.toast.hide(),n(t),"string"===typeof t?a.toast.message(t):a.toast.message("系统繁忙，请稍后再试!"),a.isLoaddingData=!1}))}catch(o){a.toast.hide(),a.isLoaddingData=!1}}))},getOtherContentHeight:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentHeight";return new Promise((function(i,n){var s=e,o=uni.createSelectorQuery().select("."+a);o.boundingClientRect((function(e){t("log","other Height:"+e.height," at mixins/index.js:118"),s.otherHeight=e.height,e.height,i(e.height)})).exec((function(t){}))}))},setTableHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.otherHeight=0);try{var a=uni.getSystemInfoSync();return t("log","CustomBar:"+this.CustomBar," at mixins/index.js:134"),this.leftContentHeight=a.windowHeight-this.CustomBar-this.otherHeight-10,this.leftContentHeight}catch(i){}}}};e.default=o}).call(this,a("0de9")["log"])},6110:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".chucangbtm[data-v-7b52b147]{position:fixed;bottom:0;width:100%;background-color:#fff;z-index:2}",""]),t.exports=e},"6af8":function(t,e,a){"use strict";a.r(e);var i=a("3a06"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"8d16":function(t,e,a){var i=a("6110");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("d0b58524",i,!0,{sourceMap:!1,shadowMode:!1})},"90b2":function(t,e,a){"use strict";var i=a("8d16"),n=a.n(i);n.a},c315:function(t,e,a){"use strict";a.r(e);var i=a("4c1d"),n=a("6af8");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("90b2");var o,c=a("f0c5"),l=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"7b52b147",null,!1,i["a"],o);e["default"]=l.exports},c9dc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={title:"webApp",isRunApp:!1,cookieExpires:1,baseUrl:{dev:"http://192.168.0.218:8080",pro:"http://192.168.0.218:8080"},baseImgUrl:"http://192.168.0.218:8080/clerp-app-api",homeName:"home",plugin:{}};e.default=i}}]);