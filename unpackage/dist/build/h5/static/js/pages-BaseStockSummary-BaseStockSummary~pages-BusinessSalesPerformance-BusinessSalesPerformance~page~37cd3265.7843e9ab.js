(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-BaseStockSummary-BaseStockSummary~pages-BusinessSalesPerformance-BusinessSalesPerformance~page~37cd3265"],{"579e":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"cu-form-group border-top"},[i("v-uni-view",{staticClass:"title",class:["red"==t.titleColor?"fontweight":""],style:[{color:t.titleColor}]},[t._v(t._s(t.title)+":")]),i("v-uni-input",{attrs:{disabled:!0,placeholder:t.placeholdertext,name:"input"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}},model:{value:t.formItem.customers,callback:function(e){t.$set(t.formItem,"customers",e)},expression:"formItem.customers"}}),i("v-uni-text",{staticClass:"cuIcon-rounddown",class:[t.formItem.customers?"text-gray":"text-green"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}}})],1),"DrawerModalL"==t.modalName?i("v-uni-view",[i("v-uni-view",{staticClass:"cu-bar bg-white searchfrom",style:[{top:t.otherHeight+"px",width:t.searchWidth+"px",left:"0px"}]},[i("v-uni-view",{staticClass:"search-form round"},[i("v-uni-text",{staticClass:"cuIcon-search"}),i("v-uni-input",{attrs:{type:"text",placeholder:"数据列表","confirm-type":"search"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.debounceTime(t.filterDataSource,e,800)}},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1)],1),i("v-uni-view",{staticClass:"cu-modal drawer-modal justify-start",class:"DrawerModalL"==t.modalName?"show":"",staticStyle:{"z-index":"3"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{staticClass:"cu-dialog basis-lg scroll",staticStyle:{overflow:"scroll"},style:[{top:t.searchHeight+t.otherHeight+"px",height:t.leftContentHeight+"px"}],attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.activityScroll.apply(void 0,arguments)},click:[function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)},function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}]}},[i("v-uni-view",{staticClass:"cu-list menu text-left"},t._l(t.modalArry,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cu-item arrow",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.modalclicl(a)}}},[t.multipleChoice?t._e():i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.modalclicl(a)}}},[t._v(t._s(e.ct_Desc))])],1),t.multipleChoice?[i("v-uni-checkbox-group",{staticClass:"block",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.CheckboxChange(e)}}},[i("v-uni-view",{staticClass:"cu-form-group",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.checkIsSelected(e)}}},[i("v-uni-view",{staticClass:"content"},[t._v(t._s(e.ct_Desc))]),i("v-uni-checkbox",{staticClass:"checkboxitem",class:t.checkIsSelected(e)?"checked":"",attrs:{checked:t.checkIsSelected(e),value:e.checkboxtype}})],1)],1)]:t._e()],2)})),1),i("v-uni-text",{staticStyle:{color:"rgb(163,163,163)","text-align":"center"}},[t._v("---我是有底线的---")]),i("v-uni-view",{staticClass:"cu-item"},[i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("strong"),i("v-uni-view",{staticClass:"search-form round"}),i("v-uni-view",{staticClass:"action"})],1)],1)],1)],1),t.multipleChoice?i("v-uni-view",{staticClass:"cu-bar footbutton input",class:"DrawerModalL"==t.modalName?"show":"",style:[{width:t.searchWidth+"px",bottom:"0px"}],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submitMultiple()}}},[i("v-uni-view",{staticClass:"action"}),i("v-uni-view",{staticClass:"action"}),i("v-uni-button",{staticClass:"cu-btn bg-green shadow",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.submitMultiple()}}},[t._v("确定")])],1):t._e()],1):t._e()],1)},o=[]},"5c5c":function(t,e,i){"use strict";i.r(e);var a=i("579e"),s=i("f6fa");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("eb3e");var n,r=i("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"457461a5",null,!1,a["a"],n);e["default"]=c.exports},6903:function(t,e,i){var a=i("87e3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("63d97869",a,!0,{sourceMap:!1,shadowMode:!1})},"87e3":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".searchfrom[data-v-457461a5]{\n\t/* display: flex; */position:fixed;width:60%;z-index:4}.checkboxitem[data-v-457461a5]{position:absolute;right:10px}.footbutton[data-v-457461a5]{position:absolute;left:0;z-index:3}.fontweight[data-v-457461a5]{font-weight:700}",""]),t.exports=e},eb3e:function(t,e,i){"use strict";var a=i("6903"),s=i.n(a);s.a},f6fa:function(t,e,i){"use strict";i.r(e);var a=i("f8a2"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},f8a2:function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("99af"),i("c740"),i("d81d"),i("a434"),i("a9e3"),i("d3b7"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var s=a(i("1da1")),o=a(i("5530")),n=a(i("ee99")),r={customers:"",customersId:""},c={data:function(){return{timer:"",buttonHeight:0,InputBottom:0,seletedItemList:[],productList:[],modalName:null,searchWidth:0,leftContentHeight:0,searchHeight:0,searchKeyword:"",modalArry:[],formItem:Object.assign({},r),pageNum:1,pageSize:100,isFilterDataByPage:!1}},watch:{defaultValue:{handler:function(t,e){t&&this.initDefaultValue(t)},deep:!0}},props:{defaultValue:{type:String,default:""},componentConfig:{type:Object,default:function(){return{}}},otherHeight:{type:Number,default:0},title:{type:String,default:""},url:{type:String,default:""},placeholdertext:{type:String,default:""},params:{type:Object,default:function(){return{}}},Reload:{type:Boolean,default:!1},multipleChoice:{type:Boolean,defaulet:!1},titleColor:{type:String,defaulet:"black"},disabled:{type:Boolean,defaulet:!1}},mounted:function(){this.loadproductList()},onReady:function(){this.loadproductList()},methods:{clearFromData:function(){this.formItem.customers="",this.formItem.customersId="",this.productList=[],this.modalArry=[],this.seletedItemList=[],this.pageNum=1,this.isFilterDataByPage=!1},activityScroll:function(){if(this.isFilterDataByPage)this.pageNum=1;else{if(this.modalArry.length<100)return this.toast.message("没有更多数据了"),this.isFilterDataByPage=!0,void(this.pageNum=1);this.toast.loading(),this.pageNum++,this.getpagingdata()}},getpagingdata:function(t){var e=this,i=(0,o.default)((0,o.default)({},this.params),{},{pageNum:this.pageNum,pageSize:this.pageSize});n.default.post("/warehouse/warehouse/execute/".concat(this.url),i).then((function(t){if(0==t.list.length)return e.toast.hide(),e.isFilterDataByPage=!0,e.pageNum=1,void e.toast.message("没有数据了");t.list.length<100&&(e.isFilterDataByPage=!0,e.pageNum=1);var i=t.list.map((function(t){var e={type:t.value,ct_Desc:t.text,wplAssNum:t.wplAssNum,wpl_WorkPrice:t.wpl_WorkPrice,wpl_WorkPriceUnit:t.wpl_WorkPriceUnit,wpl_WorkPriceUnitName:t.wpl_WorkPriceUnitName};return e}));return e.modalArry=e.modalArry.concat(i),e.toast.hide(),i})).catch((function(t){e.toast.hide(),e.toast.message("数据加载失败")}))},formatMultipleVal:function(t){var e="";this.seletedItemList.map((function(i){""==e?e="desc"==t?i.value:i.type:e+="desc"==t?";"+i.value:";"+i.type}));return e},submitMultiple:function(){var t=this.formatMultipleVal("desc"),e=this.formatMultipleVal("type");this.modalName=null,this.formItem.customers=t,this.$emit("getcheckboxval",e)},checkIsSelected:function(t){var e=this.seletedItemList.findIndex((function(e){return e.type==t.type}));return-1!=e},CheckboxChange:function(t){var e=this.seletedItemList.findIndex((function(e){return e.type==t.type}));-1==e?this.seletedItemList.push({type:t.type,value:t.ct_Desc}):this.seletedItemList.splice(e,1)},loadproductList:function(){this.Reload||this.getdataArray()},setonlydata:function(t){if(1==t.length)return this.formItem.customers=t[0].ct_Desc,this.formItem.customersId=t[0].type,this.$emit("input",t[0].type),this.$emit("closeMain",t[0]),void this.$emit("onChange",this.formItem,this.componentConfig)},initDefaultValue:function(t){this.formItem.customers=t},getdataArray:function(t){var e,i=this;this.productList=[],e=void 0!==t?t:this.params,this.toast.loading(),n.default.post("/warehouse/warehouse/execute/".concat(this.url),e).then((function(t){if(0==t.list.length)return i.toast.hide(),void i.toast.message("暂无数据");t.list.length<100&&(i.isFilterDataByPage=!0);var e=t.list.map((function(t){var e={type:t.value,ct_Desc:t.text,wplAssNum:t.wplAssNum,wpl_WorkPrice:t.wpl_WorkPrice,wpl_WorkPriceUnit:t.wpl_WorkPriceUnit,wpl_WorkPriceUnitName:t.wpl_WorkPriceUnitName};return e}));return i.productList=e,i.setonlydata(i.productList),i.toast.hide(),e})).catch((function(t){i.toast.hide(),i.toast.message("数据加载失败")}))},outsideDataWriteback:function(t){var e=t.map((function(t){var e={type:t.value,ct_Desc:t.text};return e}));this.productList=e},modalclicl:function(t){if(1!=this.multipleChoice){this.modelVal;this.formItem.customers=this.modalArry[t].ct_Desc,this.formItem.customersId=this.modalArry[t].type,this.$emit("onChange",this.formItem,this.componentConfig),this.$emit("input",this.formItem.customersId),this.$emit("closeMain",this.modalArry[t]),this.modalName=null,this.pageNum=1,this.isFilterDataByPage=!1}},hideModal:function(t){1!=this.multipleChoice&&(this.modalName=null,this.pageNum=1,this.isFilterDataByPage=!1)},debounceTime:function(t,e,i){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.apply(e)}),i)},filterDataSource:function(t){var e,i=this,a=this.searchKeyword.toUpperCase();void 0==this.params?e={name:a.replace(/\s*/g,"")}:(this.params.name=a.replace(/\s*/g,""),e=this.params),this.toast.loading(),n.default.post("/warehouse/warehouse/execute/".concat(this.url),e).then((function(t){var e=t.list.map((function(t){var e={type:t.value,ct_Desc:t.text,wplAssNum:t.wplAssNum,wpl_WorkPrice:t.wpl_WorkPrice,wpl_WorkPriceUnit:t.wpl_WorkPriceUnit,wpl_WorkPriceUnitName:t.wpl_WorkPriceUnitName};return e}));i.modalArry=e,i.toast.hide()})).catch((function(t){i.toast.hide(),i.toast.message("数据加载失败")}))},showModal:function(t){var e=this;this.disabled||(0!=this.productList.length?(1==this.multipleChoice&&this.cleraChoiceData(),this.modelVal=t,this.searchKeyword="",this.modalName="DrawerModalL",this.modalArry=this.productList,this.$emit("judge"),"DrawerModalL"==this.modalName&&setTimeout((function(){e.getTableHeight()}),500)):this.toast.message("暂无数据"))},cleraChoiceData:function(){this.seletedItemList=[]},setTableHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(this.availHeight=0);try{var e=uni.getSystemInfoSync();return this.leftContentHeight=e.windowHeight-this.searchHeight-10,this.leftContentHeight}catch(i){}},getOtherContentHeight:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentHeight";return new Promise((function(i,a){var s=t,o=uni.createSelectorQuery().in(s).select("."+e);o.boundingClientRect((function(t){s.searchHeight=t.height,t.height,i(t.height)})).exec((function(t){}))}))},getTableHeight:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e,i.next=3,a.getOtherContentHeight("searchfrom");case 3:return i.t0=i.sent,i.t1=e.otherHeight,s=i.t0+i.t1,a.setTableHeight(),e.searchWidth=0,i.next=10,a.getOtherContentwidth("arrow");case 10:e.searchWidth=i.sent,t("log",s," at components/selectDropdown/selectDropdown.vue:526");case 12:case"end":return i.stop()}}),i)})))()},getOtherContentwidth:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bodyContentWidth";return new Promise((function(i,a){var s=t,o=uni.createSelectorQuery().in(s).select("."+e);o.boundingClientRect((function(t){s.searchWidth=t.width,t.width,i(t.width)})).exec((function(t){}))}))}}};e.default=c}).call(this,i("0de9")["log"])}}]);